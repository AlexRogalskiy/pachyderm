<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Pachyderm Documention"><link href=https://docs.pachyderm.com/deploy-manage/deploy/on_premises/ rel=canonical><meta name=author content="Pachyderm Team"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.0"><title>Deploy On-Premises - Pachyderm Documentation</title><link rel=stylesheet href=../../../assets/stylesheets/application.fe6fb372.css><script src=../../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../../assets/fonts/material-icons.css><link rel=stylesheet href=../../../assets/stylesheets/extra.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "None", "{'autosite_name': 'Pachyderm Documentation'}")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script><meta name=google-site-verification content=2dR4Z3tPUkh0ulaPwy4yU_BJyfXzSfzMsMvv7Vcdmg8></head> <body dir=ltr> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#on-premises tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://docs.pachyderm.com title="Pachyderm Documentation" class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Pachyderm Documentation </span> <span class=md-header-nav__topic> Deploy On-Premises </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/pachyderm/pachyderm title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> pachyderm/pachyderm </div> </a> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <div class=mdl-selectfield> <select class=mdl-selectfield__select onchange="let pathParts = window.location.pathname.split('/'); pathParts[1] = this.value; window.location.pathname = pathParts.join('/')"> <option style selected value>latest</option> </select> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../../.. title=Home class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../../getting_started/local_installation/ title="Getting Started" class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../../concepts/data-concepts/ title=Concepts class=md-tabs__link> Concepts </a> </li> <li class=md-tabs__item> <a href=../../../how-tos/individual-developer-workflow/ title=How-Tos class=md-tabs__link> How-Tos </a> </li> <li class=md-tabs__item> <a href=../ title="Deploy and Manage" class="md-tabs__link md-tabs__link--active"> Deploy and Manage </a> </li> <li class=md-tabs__item> <a href=../../../reference/pipeline_spec/ title=Reference class=md-tabs__link> Reference </a> </li> <li class=md-tabs__item> <a href=../../../enterprise/overview/ title=Enterprise class=md-tabs__link> Enterprise </a> </li> <li class=md-tabs__item> <a href=../../../troubleshooting/general_troubleshooting/ title=Troubleshooting class=md-tabs__link> Troubleshooting </a> </li> </ul> </div> </nav> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://docs.pachyderm.com title="Pachyderm Documentation" class="md-nav__button md-logo"> <i class=md-icon></i> </a> Pachyderm Documentation </label> <div class=md-nav__source> <a href=https://github.com/pachyderm/pachyderm title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> pachyderm/pachyderm </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. title=Welcome class=md-nav__link> Welcome </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Contributing </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-1-2> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../contributing/setup/ title="Setup for Contributors" class=md-nav__link> Setup for Contributors </a> </li> <li class=md-nav__item> <a href=../../../contributing/gcloud-setup/ title="Gcloud Cluster Setup" class=md-nav__link> Gcloud Cluster Setup </a> </li> <li class=md-nav__item> <a href=../../../contributing/repo-layout/ title="Repo Layout" class=md-nav__link> Repo Layout </a> </li> <li class=md-nav__item> <a href=../../../contributing/coding-conventions/ title="Coding Conventions" class=md-nav__link> Coding Conventions </a> </li> <li class=md-nav__item> <a href=../../../contributing/docs-style-guide/ title="Documentation Style Guide" class=md-nav__link> Documentation Style Guide </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Getting Started </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../getting_started/local_installation/ title="Local Installation" class=md-nav__link> Local Installation </a> </li> <li class=md-nav__item> <a href=../../../getting_started/beginner_tutorial/ title="Beginner Tutorial" class=md-nav__link> Beginner Tutorial </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> Versioned Data Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-1> Versioned Data Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../concepts/data-concepts/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../concepts/data-concepts/repo/ title=Repository class=md-nav__link> Repository </a> </li> <li class=md-nav__item> <a href=../../../concepts/data-concepts/commit/ title=Commit class=md-nav__link> Commit </a> </li> <li class=md-nav__item> <a href=../../../concepts/data-concepts/branch/ title=Branch class=md-nav__link> Branch </a> </li> <li class=md-nav__item> <a href=../../../concepts/data-concepts/file/ title=File class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=../../../concepts/data-concepts/provenance/ title=Provenance class=md-nav__link> Provenance </a> </li> <li class=md-nav__item> <a href=../../../concepts/data-concepts/history/ title=History class=md-nav__link> History </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Pipeline Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-2> Pipeline Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/ title=Overview class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-2-2 type=checkbox id=nav-3-2-2> <label class=md-nav__link for=nav-3-2-2> Pipeline </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-3-2-2> Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/pipeline/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/pipeline/cron/ title=Cron class=md-nav__link> Cron </a> </li> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/pipeline/service/ title=Service class=md-nav__link> Service </a> </li> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/pipeline/spout/ title=Spout class=md-nav__link> Spout </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/job/ title=Job class=md-nav__link> Job </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-2-4 type=checkbox id=nav-3-2-4> <label class=md-nav__link for=nav-3-2-4> Datum </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-3-2-4> Datum </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/datum/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/datum/glob-pattern/ title="Glob Patterns" class=md-nav__link> Glob Patterns </a> </li> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/datum/relationship-between-datums/ title="Datum Processing" class=md-nav__link> Datum Processing </a> </li> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/datum/cross-union/ title="Cross and Union Inputs" class=md-nav__link> Cross and Union Inputs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> Advanced Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-3> Advanced Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../concepts/pipeline-concepts/distributed_computing/ title="Distributed Computing" class=md-nav__link> Distributed Computing </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> How-Tos </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> How-Tos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../how-tos/individual-developer-workflow/ title="Individual Developer Workflow" class=md-nav__link> Individual Developer Workflow </a> </li> <li class=md-nav__item> <a href=../../../how-tos/team-developer-workflow/ title="Team Developer Workflow" class=md-nav__link> Team Developer Workflow </a> </li> <li class=md-nav__item> <a href=../../../how-tos/load-data-into-pachyderm/ title="Load Your Data Into Pachyderm" class=md-nav__link> Load Your Data Into Pachyderm </a> </li> <li class=md-nav__item> <a href=../../../how-tos/export-data-out-pachyderm/ title="Export Your Data From Pachyderm" class=md-nav__link> Export Your Data From Pachyderm </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-5 type=checkbox id=nav-4-5> <label class=md-nav__link for=nav-4-5> Split Data </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-5> Split Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../how-tos/splitting-data/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../how-tos/splitting-data/splitting/ title="Splitting Data for Distributed Processing" class=md-nav__link> Splitting Data for Distributed Processing </a> </li> <li class=md-nav__item> <a href=../../../how-tos/splitting-data/adjusting_data_processing_w_split/ title="Adjusting Data Processing by Splitting Data" class=md-nav__link> Adjusting Data Processing by Splitting Data </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../how-tos/combining/ title="Combine, Merge, and Join Data" class=md-nav__link> Combine, Merge, and Join Data </a> </li> <li class=md-nav__item> <a href=../../../how-tos/create-ml-workflow/ title="Create a Machine Learning Workflow" class=md-nav__link> Create a Machine Learning Workflow </a> </li> <li class=md-nav__item> <a href=../../../how-tos/run_pipeline/ title="Run a Pipeline on a Specific Commit" class=md-nav__link> Run a Pipeline on a Specific Commit </a> </li> <li class=md-nav__item> <a href=../../../how-tos/updating_pipelines/ title="Update a Pipeline" class=md-nav__link> Update a Pipeline </a> </li> <li class=md-nav__item> <a href=../../../how-tos/time_windows/ title="Processing Time-Windowed Data" class=md-nav__link> Processing Time-Windowed Data </a> </li> <li class=md-nav__item> <a href=../../../how-tos/removing_data_from_pachyderm/ title="Delete Data" class=md-nav__link> Delete Data </a> </li> <li class=md-nav__item> <a href=../../../how-tos/distributed_computing/ title="Configure Distributed Computing" class=md-nav__link> Configure Distributed Computing </a> </li> <li class=md-nav__item> <a href=../../../how-tos/deferred_processing/ title="Deferred Processing of Data" class=md-nav__link> Deferred Processing of Data </a> </li> <li class=md-nav__item> <a href=../../../how-tos/ingressing_from_diff_cloud/ title="Ingress and Egress Data from an External Object Store" class=md-nav__link> Ingress and Egress Data from an External Object Store </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5 checked> <label class=md-nav__link for=nav-5> Deploy and Manage </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Deploy and Manage </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1 type=checkbox id=nav-5-1 checked> <label class=md-nav__link for=nav-5-1> Deploy Pachyderm </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-1> Deploy Pachyderm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../pachub/pachub_getting_started/ title="Getting Started with Pachyderm Hub" class=md-nav__link> Getting Started with Pachyderm Hub </a> </li> <li class=md-nav__item> <a href=../google_cloud_platform/ title="Deploy on GKE" class=md-nav__link> Deploy on GKE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-4 type=checkbox id=nav-5-1-4> <label class=md-nav__link for=nav-5-1-4> Deploy on AWS </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-4> Deploy on AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../amazon_web_services/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../amazon_web_services/deploy-eks/ title="Deploy Pachyderm on Amazon EKS" class=md-nav__link> Deploy Pachyderm on Amazon EKS </a> </li> <li class=md-nav__item> <a href=../amazon_web_services/aws-deploy-kubernetes-kops/ title="Deploy Kubernetes with kops" class=md-nav__link> Deploy Kubernetes with kops </a> </li> <li class=md-nav__item> <a href=../amazon_web_services/aws-deploy-pachyderm/ title="Deploy Pachyderm on AWS" class=md-nav__link> Deploy Pachyderm on AWS </a> </li> <li class=md-nav__item> <a href=../amazon_web_services/aws_cloudfront/ title="Deploy a Pachyderm Cluster with CloudFront" class=md-nav__link> Deploy a Pachyderm Cluster with CloudFront </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../azure/ title="Deploy on Azure" class=md-nav__link> Deploy on Azure </a> </li> <li class=md-nav__item> <a href=../openshift/ title="Deploy on OpenShift" class=md-nav__link> Deploy on OpenShift </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Deploy On-Premises </label> <a href=./ title="Deploy On-Premises" class="md-nav__link md-nav__link--active"> Deploy On-Premises </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#best-practices title="Best practices" class=md-nav__link> Best practices </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#infrastructure-as-code title="Infrastructure as code" class=md-nav__link> Infrastructure as code </a> </li> <li class=md-nav__item> <a href=#infrastructure-in-general title="Infrastructure in general" class=md-nav__link> Infrastructure in general </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#prerequisites title=Prerequisites class=md-nav__link> Prerequisites </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#software-you-will-need title="Software you will need" class=md-nav__link> Software you will need </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-to-deploy-on-premises title="Setting up to deploy on-premises" class=md-nav__link> Setting up to deploy on-premises </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-kubernetes title="Deploying Kubernetes" class=md-nav__link> Deploying Kubernetes </a> </li> <li class=md-nav__item> <a href=#deploying-a-persistent-volume title="Deploying a persistent volume" class=md-nav__link> Deploying a persistent volume </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#persistent-volumes-how-do-they-work title="Persistent volumes: how do they work?" class=md-nav__link> Persistent volumes: how do they work? </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#static-pv title="Static PV" class=md-nav__link> Static PV </a> </li> <li class=md-nav__item> <a href=#statefulsets title=StatefulSets class=md-nav__link> StatefulSets </a> </li> <li class=md-nav__item> <a href=#storageclasses title=StorageClasses class=md-nav__link> StorageClasses </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#common-tasks-to-all-types-of-pv-deployments title="Common tasks to all types of PV deployments" class=md-nav__link> Common tasks to all types of PV deployments </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sizing-the-pv title="Sizing the PV" class=md-nav__link> Sizing the PV </a> </li> <li class=md-nav__item> <a href=#creating-the-pv title="Creating the PV" class=md-nav__link> Creating the PV </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#what-youll-need-for-pachyderm-configuration-of-pv-storage title="What you'll need for Pachyderm configuration of PV storage" class=md-nav__link> What you'll need for Pachyderm configuration of PV storage </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-with-static-volumes title="Configuring with static volumes" class=md-nav__link> Configuring with static volumes </a> </li> <li class=md-nav__item> <a href=#configuring-with-statefulsets title="Configuring with StatefulSets" class=md-nav__link> Configuring with StatefulSets </a> </li> <li class=md-nav__item> <a href=#configuring-with-statefulsets-using-storageclasses title="Configuring with StatefulSets using StorageClasses" class=md-nav__link> Configuring with StatefulSets using StorageClasses </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploying-an-object-store title="Deploying an object store" class=md-nav__link> Deploying an object store </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#object-store-whats-it-for title="Object store: what's it for?" class=md-nav__link> Object store: what's it for? </a> </li> <li class=md-nav__item> <a href=#object-store-prerequisites title="Object store prerequisites" class=md-nav__link> Object store prerequisites </a> </li> <li class=md-nav__item> <a href=#sizing-the-object-store title="Sizing the object store" class=md-nav__link> Sizing the object store </a> </li> <li class=md-nav__item> <a href=#what-youll-need-for-pachyderm-configuration-of-the-object-store title="What you'll need for Pachyderm configuration of the object store" class=md-nav__link> What you'll need for Pachyderm configuration of the object store </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#next-step-creating-a-custom-deploy-manifest-for-pachyderm title="Next step: creating a custom deploy manifest for Pachyderm" class=md-nav__link> Next step: creating a custom deploy manifest for Pachyderm </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#see-also title="See Also" class=md-nav__link> See Also </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kubernetes-variants title="Kubernetes variants" class=md-nav__link> Kubernetes variants </a> </li> <li class=md-nav__item> <a href=#object-storage-variants title="Object storage variants" class=md-nav__link> Object storage variants </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-8 type=checkbox id=nav-5-1-8> <label class=md-nav__link for=nav-5-1-8> Create a Custom Deployment </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-8> Create a Custom Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deploy_custom/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../deploy_custom/deploy_custom_before_you_begin/ title="Before You Begin" class=md-nav__link> Before You Begin </a> </li> <li class=md-nav__item> <a href=../deploy_custom/deploy_custom_pachyderm_deployment_manifest/ title="Pachyderm Deployment Manifest" class=md-nav__link> Pachyderm Deployment Manifest </a> </li> <li class=md-nav__item> <a href=../deploy_custom/deploy_custom_configuring_persistent_disk_parameters/ title="Configuring Persistent Disk Parameters" class=md-nav__link> Configuring Persistent Disk Parameters </a> </li> <li class=md-nav__item> <a href=../deploy_custom/deploy_custom_configuring_object_store/ title="Configuring Object Store" class=md-nav__link> Configuring Object Store </a> </li> <li class=md-nav__item> <a href=../deploy_custom/deploy_custom_complete_example_invocation/ title="Create a Complete Configuration" class=md-nav__link> Create a Complete Configuration </a> </li> <li class=md-nav__item> <a href=../deploy_custom/deploy_custom_additional_flags/ title="Additional flags" class=md-nav__link> Additional flags </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-9 type=checkbox id=nav-5-1-9> <label class=md-nav__link for=nav-5-1-9> Additional Customizations </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-9> Additional Customizations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../namespaces/ title="Deploy in a Custom Namespace" class=md-nav__link> Deploy in a Custom Namespace </a> </li> <li class=md-nav__item> <a href=../non-cloud-object-stores/ title="Deploy a Custom Object Store" class=md-nav__link> Deploy a Custom Object Store </a> </li> <li class=md-nav__item> <a href=../rbac/ title="Configure RBAC" class=md-nav__link> Configure RBAC </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../tracing/ title="Configure Tracing with Jaeger" class=md-nav__link> Configure Tracing with Jaeger </a> </li> <li class=md-nav__item> <a href=../connect-to-cluster/ title="Connect to a Pachyderm cluster" class=md-nav__link> Connect to a Pachyderm cluster </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-2 type=checkbox id=nav-5-2> <label class=md-nav__link for=nav-5-2> Manage Pachyderm </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-2> Manage Pachyderm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../manage/cluster-access/ title="Manage Cluster Access" class=md-nav__link> Manage Cluster Access </a> </li> <li class=md-nav__item> <a href=../../manage/autoscaling/ title="Autoscale your Cluster" class=md-nav__link> Autoscale your Cluster </a> </li> <li class=md-nav__item> <a href=../../manage/batching_pachyderm_with_transactions/ title="Batching Pachyderm with Transactions" class=md-nav__link> Batching Pachyderm with Transactions </a> </li> <li class=md-nav__item> <a href=../../manage/backup_restore/ title="Backup and Restore" class=md-nav__link> Backup and Restore </a> </li> <li class=md-nav__item> <a href=../../manage/data_management/ title="Storage Use Optimization" class=md-nav__link> Storage Use Optimization </a> </li> <li class=md-nav__item> <a href=../../manage/gpus/ title="Use GPUs" class=md-nav__link> Use GPUs </a> </li> <li class=md-nav__item> <a href=../../manage/sharing_gpu_resources/ title="Sharing GPU Resources" class=md-nav__link> Sharing GPU Resources </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-2-8 type=checkbox id=nav-5-2-8> <label class=md-nav__link for=nav-5-2-8> Upgrades and Migrations </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-2-8> Upgrades and Migrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../manage/upgrades_migrations/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../manage/migrations/ title="Migrate to a Major Version" class=md-nav__link> Migrate to a Major Version </a> </li> <li class=md-nav__item> <a href=../../manage/upgrades/ title="Upgrade your Cluster" class=md-nav__link> Upgrade your Cluster </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../manage/disable-metrics/ title="Disable Usage Metrics" class=md-nav__link> Disable Usage Metrics </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Reference </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/pipeline_spec/ title="Pipeline Specification" class=md-nav__link> Pipeline Specification </a> </li> <li class=md-nav__item> <a href=../../../reference/config_spec/ title="Pachyderm Config Specification" class=md-nav__link> Pachyderm Config Specification </a> </li> <li class=md-nav__item> <a href=../../../reference/clients/ title="Pachyderm Language Clients" class=md-nav__link> Pachyderm Language Clients </a> </li> <li class=md-nav__item> <a href=../../../reference/s3gateway_api/ title="S3 Gateway API Reference" class=md-nav__link> S3 Gateway API Reference </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-5 type=checkbox id=nav-6-5> <label class=md-nav__link for=nav-6-5> Pachctl Reference </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-5> Pachctl Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl/ title=Pachctl class=md-nav__link> Pachctl </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth/ title="Pachctl auth" class=md-nav__link> Pachctl auth </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_activate/ title="Pachctl auth activate" class=md-nav__link> Pachctl auth activate </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_check/ title="Pachctl auth check" class=md-nav__link> Pachctl auth check </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_deactivate/ title="Pachctl auth deactivate" class=md-nav__link> Pachctl auth deactivate </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_get-auth-token/ title="Pachctl auth get auth token" class=md-nav__link> Pachctl auth get auth token </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_get-config/ title="Pachctl auth get config" class=md-nav__link> Pachctl auth get config </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_get-otp/ title="Pachctl auth get otp" class=md-nav__link> Pachctl auth get otp </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_get/ title="Pachctl auth get" class=md-nav__link> Pachctl auth get </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_list-admins/ title="Pachctl auth list admins" class=md-nav__link> Pachctl auth list admins </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_login/ title="Pachctl auth login" class=md-nav__link> Pachctl auth login </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_logout/ title="Pachctl auth logout" class=md-nav__link> Pachctl auth logout </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_modify-admins/ title="Pachctl auth modify admins" class=md-nav__link> Pachctl auth modify admins </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_set-config/ title="Pachctl auth set config" class=md-nav__link> Pachctl auth set config </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_set/ title="Pachctl auth set" class=md-nav__link> Pachctl auth set </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_use-auth-token/ title="Pachctl auth use auth token" class=md-nav__link> Pachctl auth use auth token </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_auth_whoami/ title="Pachctl auth whoami" class=md-nav__link> Pachctl auth whoami </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_completion/ title="Pachctl completion" class=md-nav__link> Pachctl completion </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config/ title="Pachctl config" class=md-nav__link> Pachctl config </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_delete/ title="Pachctl config delete" class=md-nav__link> Pachctl config delete </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_delete_context/ title="Pachctl config delete context" class=md-nav__link> Pachctl config delete context </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_get/ title="Pachctl config get" class=md-nav__link> Pachctl config get </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_get_active-context/ title="Pachctl config get active context" class=md-nav__link> Pachctl config get active context </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_get_context/ title="Pachctl config get context" class=md-nav__link> Pachctl config get context </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_get_metrics/ title="Pachctl config get metrics" class=md-nav__link> Pachctl config get metrics </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_list/ title="Pachctl config list" class=md-nav__link> Pachctl config list </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_list_context/ title="Pachctl config list context" class=md-nav__link> Pachctl config list context </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_set/ title="Pachctl config set" class=md-nav__link> Pachctl config set </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_set_active-context/ title="Pachctl config set active context" class=md-nav__link> Pachctl config set active context </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_set_context/ title="Pachctl config set context" class=md-nav__link> Pachctl config set context </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_set_metrics/ title="Pachctl config set metrics" class=md-nav__link> Pachctl config set metrics </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_update/ title="Pachctl config update" class=md-nav__link> Pachctl config update </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_config_update_context/ title="Pachctl config update context" class=md-nav__link> Pachctl config update context </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_copy/ title="Pachctl copy" class=md-nav__link> Pachctl copy </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_copy_file/ title="Pachctl copy file" class=md-nav__link> Pachctl copy file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_create/ title="Pachctl create" class=md-nav__link> Pachctl create </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_create_branch/ title="Pachctl create branch" class=md-nav__link> Pachctl create branch </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_create_pipeline/ title="Pachctl create pipeline" class=md-nav__link> Pachctl create pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_create_repo/ title="Pachctl create repo" class=md-nav__link> Pachctl create repo </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_debug/ title="Pachctl debug" class=md-nav__link> Pachctl debug </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_debug_binary/ title="Pachctl debug binary" class=md-nav__link> Pachctl debug binary </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_debug_dump/ title="Pachctl debug dump" class=md-nav__link> Pachctl debug dump </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_debug_pprof/ title="Pachctl debug pprof" class=md-nav__link> Pachctl debug pprof </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_debug_profile/ title="Pachctl debug profile" class=md-nav__link> Pachctl debug profile </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete/ title="Pachctl delete" class=md-nav__link> Pachctl delete </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_all/ title="Pachctl delete all" class=md-nav__link> Pachctl delete all </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_branch/ title="Pachctl delete branch" class=md-nav__link> Pachctl delete branch </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_commit/ title="Pachctl delete commit" class=md-nav__link> Pachctl delete commit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_file/ title="Pachctl delete file" class=md-nav__link> Pachctl delete file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_job/ title="Pachctl delete job" class=md-nav__link> Pachctl delete job </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_pipeline/ title="Pachctl delete pipeline" class=md-nav__link> Pachctl delete pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_repo/ title="Pachctl delete repo" class=md-nav__link> Pachctl delete repo </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_delete_transaction/ title="Pachctl delete transaction" class=md-nav__link> Pachctl delete transaction </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy/ title="Pachctl deploy" class=md-nav__link> Pachctl deploy </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_amazon/ title="Pachctl deploy amazon" class=md-nav__link> Pachctl deploy amazon </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_custom/ title="Pachctl deploy custom" class=md-nav__link> Pachctl deploy custom </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_export-images/ title="Pachctl deploy export images" class=md-nav__link> Pachctl deploy export images </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_google/ title="Pachctl deploy google" class=md-nav__link> Pachctl deploy google </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_import-images/ title="Pachctl deploy import images" class=md-nav__link> Pachctl deploy import images </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_list-images/ title="Pachctl deploy list images" class=md-nav__link> Pachctl deploy list images </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_local/ title="Pachctl deploy local" class=md-nav__link> Pachctl deploy local </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_microsoft/ title="Pachctl deploy microsoft" class=md-nav__link> Pachctl deploy microsoft </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_storage/ title="Pachctl deploy storage" class=md-nav__link> Pachctl deploy storage </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_storage_amazon/ title="Pachctl deploy storage amazon" class=md-nav__link> Pachctl deploy storage amazon </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_storage_google/ title="Pachctl deploy storage google" class=md-nav__link> Pachctl deploy storage google </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_deploy_storage_microsoft/ title="Pachctl deploy storage microsoft" class=md-nav__link> Pachctl deploy storage microsoft </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_diff/ title="Pachctl diff" class=md-nav__link> Pachctl diff </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_diff_file/ title="Pachctl diff file" class=md-nav__link> Pachctl diff file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_edit/ title="Pachctl edit" class=md-nav__link> Pachctl edit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_edit_pipeline/ title="Pachctl edit pipeline" class=md-nav__link> Pachctl edit pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_enterprise/ title="Pachctl enterprise" class=md-nav__link> Pachctl enterprise </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_enterprise_activate/ title="Pachctl enterprise activate" class=md-nav__link> Pachctl enterprise activate </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_enterprise_get-state/ title="Pachctl enterprise get state" class=md-nav__link> Pachctl enterprise get state </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_extract/ title="Pachctl extract" class=md-nav__link> Pachctl extract </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_extract_pipeline/ title="Pachctl extract pipeline" class=md-nav__link> Pachctl extract pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_finish/ title="Pachctl finish" class=md-nav__link> Pachctl finish </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_finish_commit/ title="Pachctl finish commit" class=md-nav__link> Pachctl finish commit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_finish_transaction/ title="Pachctl finish transaction" class=md-nav__link> Pachctl finish transaction </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_flush/ title="Pachctl flush" class=md-nav__link> Pachctl flush </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_flush_commit/ title="Pachctl flush commit" class=md-nav__link> Pachctl flush commit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_flush_job/ title="Pachctl flush job" class=md-nav__link> Pachctl flush job </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_fsck/ title="Pachctl fsck" class=md-nav__link> Pachctl fsck </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_garbage-collect/ title="Pachctl garbage collect" class=md-nav__link> Pachctl garbage collect </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_get/ title="Pachctl get" class=md-nav__link> Pachctl get </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_get_file/ title="Pachctl get file" class=md-nav__link> Pachctl get file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_get_object/ title="Pachctl get object" class=md-nav__link> Pachctl get object </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_get_tag/ title="Pachctl get tag" class=md-nav__link> Pachctl get tag </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_glob/ title="Pachctl glob" class=md-nav__link> Pachctl glob </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_glob_file/ title="Pachctl glob file" class=md-nav__link> Pachctl glob file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect/ title="Pachctl inspect" class=md-nav__link> Pachctl inspect </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_cluster/ title="Pachctl inspect cluster" class=md-nav__link> Pachctl inspect cluster </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_commit/ title="Pachctl inspect commit" class=md-nav__link> Pachctl inspect commit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_datum/ title="Pachctl inspect datum" class=md-nav__link> Pachctl inspect datum </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_file/ title="Pachctl inspect file" class=md-nav__link> Pachctl inspect file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_job/ title="Pachctl inspect job" class=md-nav__link> Pachctl inspect job </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_pipeline/ title="Pachctl inspect pipeline" class=md-nav__link> Pachctl inspect pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_repo/ title="Pachctl inspect repo" class=md-nav__link> Pachctl inspect repo </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_inspect_transaction/ title="Pachctl inspect transaction" class=md-nav__link> Pachctl inspect transaction </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list/ title="Pachctl list" class=md-nav__link> Pachctl list </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_branch/ title="Pachctl list branch" class=md-nav__link> Pachctl list branch </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_commit/ title="Pachctl list commit" class=md-nav__link> Pachctl list commit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_datum/ title="Pachctl list datum" class=md-nav__link> Pachctl list datum </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_file/ title="Pachctl list file" class=md-nav__link> Pachctl list file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_job/ title="Pachctl list job" class=md-nav__link> Pachctl list job </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_pipeline/ title="Pachctl list pipeline" class=md-nav__link> Pachctl list pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_repo/ title="Pachctl list repo" class=md-nav__link> Pachctl list repo </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_list_transaction/ title="Pachctl list transaction" class=md-nav__link> Pachctl list transaction </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_logs/ title="Pachctl logs" class=md-nav__link> Pachctl logs </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_mount/ title="Pachctl mount" class=md-nav__link> Pachctl mount </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_port-forward/ title="Pachctl port forward" class=md-nav__link> Pachctl port forward </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_put/ title="Pachctl put" class=md-nav__link> Pachctl put </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_put_file/ title="Pachctl put file" class=md-nav__link> Pachctl put file </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_restart/ title="Pachctl restart" class=md-nav__link> Pachctl restart </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_restart_datum/ title="Pachctl restart datum" class=md-nav__link> Pachctl restart datum </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_restore/ title="Pachctl restore" class=md-nav__link> Pachctl restore </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_resume/ title="Pachctl resume" class=md-nav__link> Pachctl resume </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_resume_transaction/ title="Pachctl resume transaction" class=md-nav__link> Pachctl resume transaction </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_run/ title="Pachctl run" class=md-nav__link> Pachctl run </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_run_pipeline/ title="Pachctl run pipeline" class=md-nav__link> Pachctl run pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_start/ title="Pachctl start" class=md-nav__link> Pachctl start </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_start_commit/ title="Pachctl start commit" class=md-nav__link> Pachctl start commit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_start_pipeline/ title="Pachctl start pipeline" class=md-nav__link> Pachctl start pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_start_transaction/ title="Pachctl start transaction" class=md-nav__link> Pachctl start transaction </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_stop/ title="Pachctl stop" class=md-nav__link> Pachctl stop </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_stop_job/ title="Pachctl stop job" class=md-nav__link> Pachctl stop job </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_stop_pipeline/ title="Pachctl stop pipeline" class=md-nav__link> Pachctl stop pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_stop_transaction/ title="Pachctl stop transaction" class=md-nav__link> Pachctl stop transaction </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_subscribe/ title="Pachctl subscribe" class=md-nav__link> Pachctl subscribe </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_subscribe_commit/ title="Pachctl subscribe commit" class=md-nav__link> Pachctl subscribe commit </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_undeploy/ title="Pachctl undeploy" class=md-nav__link> Pachctl undeploy </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_unmount/ title="Pachctl unmount" class=md-nav__link> Pachctl unmount </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_update-dash/ title="Pachctl update dash" class=md-nav__link> Pachctl update dash </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_update/ title="Pachctl update" class=md-nav__link> Pachctl update </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_update_pipeline/ title="Pachctl update pipeline" class=md-nav__link> Pachctl update pipeline </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_update_repo/ title="Pachctl update repo" class=md-nav__link> Pachctl update repo </a> </li> <li class=md-nav__item> <a href=../../../reference/pachctl/pachctl_version/ title="Pachctl version" class=md-nav__link> Pachctl version </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../../examples/examples/ title=Examples class=md-nav__link> Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Enterprise </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> Enterprise </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../enterprise/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../enterprise/deployment/ title="Deploy Enterprise Edition" class=md-nav__link> Deploy Enterprise Edition </a> </li> <li class=md-nav__item> <a href=../../../enterprise/auth/auth/ title="Configure Access Controls" class=md-nav__link> Configure Access Controls </a> </li> <li class=md-nav__item> <a href=../../../enterprise/stats/ title="Advanced Statistics" class=md-nav__link> Advanced Statistics </a> </li> <li class=md-nav__item> <a href=../../../enterprise/s3gateway/ title="Using the S3 Gateway" class=md-nav__link> Using the S3 Gateway </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-6 type=checkbox id=nav-7-6> <label class=md-nav__link for=nav-7-6> Configure Pachyderm with an Access Management Provider </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-6> Configure Pachyderm with an Access Management Provider </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../enterprise/saml/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../../enterprise/saml_setup/ title="Configure SAML" class=md-nav__link> Configure SAML </a> </li> <li class=md-nav__item> <a href=../../../enterprise/saml_usage/ title="Use SAML" class=md-nav__link> Use SAML </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Troubleshooting </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../troubleshooting/general_troubleshooting/ title="General Troubleshooting" class=md-nav__link> General Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../../troubleshooting/deploy_troubleshooting/ title="Deployment Troubleshootin" class=md-nav__link> Deployment Troubleshootin </a> </li> <li class=md-nav__item> <a href=../../../troubleshooting/pipeline_troubleshooting/ title="Pipeline Troubleshooting" class=md-nav__link> Pipeline Troubleshooting </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#introduction title=Introduction class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=#best-practices title="Best practices" class=md-nav__link> Best practices </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#infrastructure-as-code title="Infrastructure as code" class=md-nav__link> Infrastructure as code </a> </li> <li class=md-nav__item> <a href=#infrastructure-in-general title="Infrastructure in general" class=md-nav__link> Infrastructure in general </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#prerequisites title=Prerequisites class=md-nav__link> Prerequisites </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#software-you-will-need title="Software you will need" class=md-nav__link> Software you will need </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#setting-up-to-deploy-on-premises title="Setting up to deploy on-premises" class=md-nav__link> Setting up to deploy on-premises </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#deploying-kubernetes title="Deploying Kubernetes" class=md-nav__link> Deploying Kubernetes </a> </li> <li class=md-nav__item> <a href=#deploying-a-persistent-volume title="Deploying a persistent volume" class=md-nav__link> Deploying a persistent volume </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#persistent-volumes-how-do-they-work title="Persistent volumes: how do they work?" class=md-nav__link> Persistent volumes: how do they work? </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#static-pv title="Static PV" class=md-nav__link> Static PV </a> </li> <li class=md-nav__item> <a href=#statefulsets title=StatefulSets class=md-nav__link> StatefulSets </a> </li> <li class=md-nav__item> <a href=#storageclasses title=StorageClasses class=md-nav__link> StorageClasses </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#common-tasks-to-all-types-of-pv-deployments title="Common tasks to all types of PV deployments" class=md-nav__link> Common tasks to all types of PV deployments </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#sizing-the-pv title="Sizing the PV" class=md-nav__link> Sizing the PV </a> </li> <li class=md-nav__item> <a href=#creating-the-pv title="Creating the PV" class=md-nav__link> Creating the PV </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#what-youll-need-for-pachyderm-configuration-of-pv-storage title="What you'll need for Pachyderm configuration of PV storage" class=md-nav__link> What you'll need for Pachyderm configuration of PV storage </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#configuring-with-static-volumes title="Configuring with static volumes" class=md-nav__link> Configuring with static volumes </a> </li> <li class=md-nav__item> <a href=#configuring-with-statefulsets title="Configuring with StatefulSets" class=md-nav__link> Configuring with StatefulSets </a> </li> <li class=md-nav__item> <a href=#configuring-with-statefulsets-using-storageclasses title="Configuring with StatefulSets using StorageClasses" class=md-nav__link> Configuring with StatefulSets using StorageClasses </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#deploying-an-object-store title="Deploying an object store" class=md-nav__link> Deploying an object store </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#object-store-whats-it-for title="Object store: what's it for?" class=md-nav__link> Object store: what's it for? </a> </li> <li class=md-nav__item> <a href=#object-store-prerequisites title="Object store prerequisites" class=md-nav__link> Object store prerequisites </a> </li> <li class=md-nav__item> <a href=#sizing-the-object-store title="Sizing the object store" class=md-nav__link> Sizing the object store </a> </li> <li class=md-nav__item> <a href=#what-youll-need-for-pachyderm-configuration-of-the-object-store title="What you'll need for Pachyderm configuration of the object store" class=md-nav__link> What you'll need for Pachyderm configuration of the object store </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#next-step-creating-a-custom-deploy-manifest-for-pachyderm title="Next step: creating a custom deploy manifest for Pachyderm" class=md-nav__link> Next step: creating a custom deploy manifest for Pachyderm </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#see-also title="See Also" class=md-nav__link> See Also </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kubernetes-variants title="Kubernetes variants" class=md-nav__link> Kubernetes variants </a> </li> <li class=md-nav__item> <a href=#object-storage-variants title="Object storage variants" class=md-nav__link> Object storage variants </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <div class="md-flex md-flex__cell--stretch"> <div class data-md-component=banner> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-flex> <div class=md-banner> <p><i class="fa fa-exclamation-triangle" aria-hidden=true>&nbsp</i> If you are using Pachyderm version <b>1.9.7</b> or earlier, go to the <b><a href=https://archive-docs.pachyderm.com>documentation archive</a></b>. </p> </div> </div> </div> </div> </div> <article class="md-content__inner md-typeset"> <h1 id=on-premises>On Premises<a class=headerlink href=#on-premises title="Permanent link">&para;</a></h1> <p>This document is broken down into the following sections, available at the links below</p> <ul> <li><a href=#introduction>Introduction to on-premises deployments</a> takes you through what you need to know about Kubernetes, persistent volumes, object stores and best practices. That's this page.</li> <li><a href=../deploy_custom/ >Customizing your Pachyderm deployment for on-premises use</a> details the various options of the <code>pachctl deploy custom ...</code> command for an on-premises deployment.</li> <li><a href=../single-node/ >Single-node Pachyderm deployment</a> is the document you should read when deploying Pachyderm for personal, low-volume usage.</li> <li><a href=../docker_registries/ >Registries</a> takes you through on-premises, private Docker registry configuration.</li> <li><a href=../configuring_k8s_ingress/ >Ingress</a> details the Kubernetes ingress configuration you'd need for using <code>pachctl</code> and the dashboard outside of the Kubernetes cluster</li> <li><a href=../non-cloud-object-stores/ >Non-cloud object stores</a> discusses common configurations for on-premises object stores.</li> </ul> <p>Need information on a particular flavor of Kubernetes or object store? Check out the <a href=#see-also>see also</a> section.</p> <p>Troubleshooting a deployment? Check out <a href=../../../troubleshooting/deploy_troubleshooting/ >Troubleshooting Deployments</a>.</p> <h2 id=introduction>Introduction<a class=headerlink href=#introduction title="Permanent link">&para;</a></h2> <p>Deploying Pachyderm successfully on-premises requires a few prerequisites and some planning. Pachyderm is built on <a href=https://kubernetes.io/ >Kubernetes</a>. Before you can deploy Pachyderm, you or your Kubernetes administrator will need to perform the following actions:</p> <ol> <li><a href=#deploying-kubernetes>Deploy Kubernetes</a> on-premises.</li> <li><a href=#deploying-a-persistent-volume>Deploy a Kubernetes persistent volume</a> that Pachyderm will use to store administrative data.</li> <li><a href=#deploying-an-object-store>Deploy an on-premises object store</a> using a storage provider like <a href=https://min.io>MinIO</a>, <a href=https://www.dellemc.com/storage/ecs/index.htm>EMC's ECS</a>, or <a href=https://www.swiftstack.com/ >SwiftStack</a> to provide S3-compatible access to your on-premises storage.</li> <li><a href=../deploy_custom/deploy_custom_pachyderm_deployment_manifest/ >Create a Pachyderm manifest</a> by running the <code>pachctl deploy custom</code> command with appropriate arguments and the <code>--dry-run</code> flag to create a Kubernetes manifest for the Pachyderm deployment.</li> <li><a href=../deploy_custom/deploy_custom_pachyderm_deployment_manifest/ >Edit the Pachyderm manifest</a> for your particular Kubernetes deployment</li> </ol> <p>In this series of documents, we'll take you through the steps unique to Pachyderm. We assume you have some Kubernetes knowledge. We will point you to external resources for the general Kubernetes steps to give you background.</p> <h2 id=best-practices>Best practices<a class=headerlink href=#best-practices title="Permanent link">&para;</a></h2> <h3 id=infrastructure-as-code>Infrastructure as code<a class=headerlink href=#infrastructure-as-code title="Permanent link">&para;</a></h3> <p>We highly encourage you to apply the best practices used in developing software to managing the deployment process.</p> <ol> <li>Create scripts that automate as much of your processes as possible and keep them under version control.</li> <li>Keep copies of all artifacts, such as manifests, produced by those scripts and keep those under version control.</li> <li>Document your practices in the code and outside it.</li> </ol> <h3 id=infrastructure-in-general>Infrastructure in general<a class=headerlink href=#infrastructure-in-general title="Permanent link">&para;</a></h3> <p>Be sure that you design your Kubernetes infrastructure in accordance with recommended guidelines. Don't mix on-premises Kubernetes and cloud-based storage. It's important that bandwidth to your storage deployment meet the guidelines of your storage provider.</p> <h2 id=prerequisites>Prerequisites<a class=headerlink href=#prerequisites title="Permanent link">&para;</a></h2> <h3 id=software-you-will-need>Software you will need<a class=headerlink href=#software-you-will-need title="Permanent link">&para;</a></h3> <ol> <li><a href=https://kubernetes.io/docs/user-guide/prereqs/ >kubectl</a></li> <li><a href=../../../../geting_started/local_installation/#install-pachctl>pachctl</a></li> </ol> <h2 id=setting-up-to-deploy-on-premises>Setting up to deploy on-premises<a class=headerlink href=#setting-up-to-deploy-on-premises title="Permanent link">&para;</a></h2> <h3 id=deploying-kubernetes>Deploying Kubernetes<a class=headerlink href=#deploying-kubernetes title="Permanent link">&para;</a></h3> <p>The Kubernetes docs have instructions for <a href=https://kubernetes.io/docs/getting-started-guides/#on-premises-vms>deploying Kubernetes in a variety of on-premise scenarios</a>. We recommend following one of these guides to get Kubernetes running on premise.</p> <h3 id=deploying-a-persistent-volume>Deploying a persistent volume<a class=headerlink href=#deploying-a-persistent-volume title="Permanent link">&para;</a></h3> <h4 id=persistent-volumes-how-do-they-work>Persistent volumes: how do they work?<a class=headerlink href=#persistent-volumes-how-do-they-work title="Permanent link">&para;</a></h4> <p>A Kubernetes <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/ >persistent volume</a> is used by Pachyderm's <code>etcd</code> for storage of system metatada. In Kubernetes, <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/ >persistent volumes</a> are a mechanism for providing storage for consumption by the users of the cluster. They are provisioned by the cluster administrators. In a typical enterprise Kubernetes deployment, the administrators have configured persistent volumes that your Pachyderm deployment will consume by means of a <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/#persistentvolumeclaims>persistent volume claim</a> in the Pachyderm manifest you generate.</p> <p>You can deploy PV's to Pachyderm using our command-line arguments in three ways: using a static PV, with StatefulSets, or with StatefulSets using a StorageClass.</p> <p>If your administrators are using <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/#selector>selectors</a>, or you want to use StorageClasses in a different way, you'll need to <a href=../deploy_custom/deploy_custom_pachyderm_deployment_manifest>edit the Pachyderm manifest</a> appropriately before applying it.</p> <h5 id=static-pv>Static PV<a class=headerlink href=#static-pv title="Permanent link">&para;</a></h5> <p>In this case, <code>etcd</code> will be deployed in Pachyderm as a <a href=https://kubernetes.io/docs/concepts/workloads/controllers/replicationcontroller/ >ReplicationController</a> with one (1) pod that uses a static PV. This is a common deployment for testing. </p> <h5 id=statefulsets>StatefulSets<a class=headerlink href=#statefulsets title="Permanent link">&para;</a></h5> <p><a href=https://kubernetes.io/docs/concepts/workloads/controllers/statefulset/ >StatefulSets</a> are a mechanism provided in Kubernetes 1.9 and newer to manage the deployment and scaling of applications. It uses either <a href=https://github.com/kubernetes/examples/blob/master/staging/persistent-volume-provisioning/README.md>Persistent Volume Provisioning</a> or pre-provisioned PV's. </p> <p>If you're using StatefulSets in your Kubernetes cluster, you will need to find out the particulars of your cluster's PV configuration and <a href=#configuring-with-statefulsets>use appropriate flags to <code>pachctl deploy custom</code></a></p> <h5 id=storageclasses>StorageClasses<a class=headerlink href=#storageclasses title="Permanent link">&para;</a></h5> <p>If your administrators require specification of <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/#class-1>classes</a> to consume persistent volumes, you will need to find out the particulars of your cluster's PV configuration and <a href=#configuring-with-statefulsets-using-storageclasses>use appropriate flags to <code>pachctl deploy custom</code></a>.</p> <h4 id=common-tasks-to-all-types-of-pv-deployments>Common tasks to all types of PV deployments<a class=headerlink href=#common-tasks-to-all-types-of-pv-deployments title="Permanent link">&para;</a></h4> <h5 id=sizing-the-pv>Sizing the PV<a class=headerlink href=#sizing-the-pv title="Permanent link">&para;</a></h5> <p>You'll need to use a PV with enough space for the metadata associated with the data you plan to store in Pachyderm. We're currently developing good rules of thumb for scaling this storage as your Pachyderm deployment grows, but it looks like 10G of disk space is sufficient for most purposes.</p> <h5 id=creating-the-pv>Creating the PV<a class=headerlink href=#creating-the-pv title="Permanent link">&para;</a></h5> <p>In the case of cloud-based deployments, the <code>pachctl deploy</code> command for AWS, GCP and Azure creates persistent volumes for you, when you follow the instructions for those infrastructures.</p> <p>In the case of on-premises deployments, the kind of PV you provision will be dependent on what kind of storage your Kubernetes administrators have attached to your cluster and configured, and whether you are expected to consume that storage as a static PV, with Persistent Volume Provisioning or as a StorageClass.</p> <p>For example, many on-premises deployments use Network File System (NFS) to access to some kind of enterprise storage. Persistent volumes are provisioned in Kubernetes like all things in Kubernetes: by means of a manifest. You can learn about creating <a href=https://kubernetes.io/docs/concepts/storage/volumes/ >volumes</a> and <a href=https://kubernetes.io/docs/concepts/storage/persistent-volumes/ >persistent volumes</a> in the Kubernetes documentation.</p> <p>You or your Kubernetes administrators will be responsible for configuring the PVs you create to be consumable as static PV's, with Persistent Volume Provisioning or as a StorageClass.</p> <h4 id=what-youll-need-for-pachyderm-configuration-of-pv-storage>What you'll need for Pachyderm configuration of PV storage<a class=headerlink href=#what-youll-need-for-pachyderm-configuration-of-pv-storage title="Permanent link">&para;</a></h4> <p>Keep the information below at hand for when you <a href=../deploy_custom/ >run <code>pachctl deploy custom</code> further on</a></p> <h5 id=configuring-with-static-volumes>Configuring with static volumes<a class=headerlink href=#configuring-with-static-volumes title="Permanent link">&para;</a></h5> <p>You'll need the name of the PV and the amount of space you can use, in gigabytes. We'll refer to those, respectively, as <code>PVC_STORAGE_NAME</code> and <code>PVC_STORAGE_SIZE</code> further on. With this kind of PV, you'll use the flag <code>--static-etcd-volume</code> with <code>PVC_STORAGE_NAME</code> as its argument in your deployment.</p> <p>Note: this will override any attempt to configure with StorageClasses, below.</p> <h5 id=configuring-with-statefulsets>Configuring with StatefulSets<a class=headerlink href=#configuring-with-statefulsets title="Permanent link">&para;</a></h5> <p>If you're deploying using <a href=#statefulsets>StatefulSets</a>, you'll just need the amount of space you can use, in gigabytes, which we'll refer to as <code>PVC_STORAGE_SIZE</code> further on..</p> <p>Note: The <code>--etcd-storage-class</code> flag and argument will be ignored if you use the flag <code>--static-etcd-volume</code> along with it.</p> <h5 id=configuring-with-statefulsets-using-storageclasses>Configuring with StatefulSets using StorageClasses<a class=headerlink href=#configuring-with-statefulsets-using-storageclasses title="Permanent link">&para;</a></h5> <p>If you're deploying using <a href=#statefulsets>StatefulSets</a> with <a href=#storageclasses>StorageClasses</a>, you'll need the name of the storage class and the amount of space you can use, in gigabytes. We'll refer to those, respectively, as <code>PVC_STORAGECLASS</code> and <code>PVC_STORAGE_SIZE</code> further on. With this kind of PV, you'll use the flag <code>--etcd-storage-class</code> with <code>PVC_STORAGECLASS</code> as its argument in your deployment. </p> <p>Note: The <code>--etcd-storage-class</code> flag and argument will be ignored if you use the flag <code>--static-etcd-volume</code> along with it.</p> <h3 id=deploying-an-object-store>Deploying an object store<a class=headerlink href=#deploying-an-object-store title="Permanent link">&para;</a></h3> <h4 id=object-store-whats-it-for>Object store: what's it for?<a class=headerlink href=#object-store-whats-it-for title="Permanent link">&para;</a></h4> <p>An object store is used by Pachyderm's <code>pachd</code> for storing all your data. The object store you use must be accessible via a low-latency, high-bandwidth connection like <a href=https://en.wikipedia.org/wiki/Gigabit_Ethernet>Gigabit</a> or <a href=https://en.wikipedia.org/wiki/10_Gigabit_Ethernet>10G Ethernet</a>.</p> <p>For an on-premises deployment, it's not advisable to use a cloud-based storage mechanism. Don't deploy an on-premises Pachyderm cluster against cloud-based object stores such as S3 from <a href=../amazon_web_services/ >AWS</a>, GCS from <a href=../google_cloud_platform/ >Google Cloud Platform</a>, Azure Blob Storage from <a href=../azure/ >Azure</a>.</p> <h4 id=object-store-prerequisites>Object store prerequisites<a class=headerlink href=#object-store-prerequisites title="Permanent link">&para;</a></h4> <p>Object stores are accessible using the S3 protocol, created by Amazon. Storage providers like <a href=https://min.io>MinIO</a>, <a href=https://www.dellemc.com/storage/ecs/index.htm>EMC's ECS</a>, or <a href=https://www.swiftstack.com/ >SwiftStack</a> provide S3-compatible access to enterprise storage for on-premises deployment. You can find links to instructions for providers of particular object stores in the <a href=#see-also>See also</a> section.</p> <h4 id=sizing-the-object-store>Sizing the object store<a class=headerlink href=#sizing-the-object-store title="Permanent link">&para;</a></h4> <p>Size your object store generously. Once you start using Pachyderm, you'll start versioning all your data. We're currently developing good rules of thumb for scaling your object store as your Pachyderm deployment grows, but it's a good idea to start with a large multiple of your current data set size.</p> <h4 id=what-youll-need-for-pachyderm-configuration-of-the-object-store>What you'll need for Pachyderm configuration of the object store<a class=headerlink href=#what-youll-need-for-pachyderm-configuration-of-the-object-store title="Permanent link">&para;</a></h4> <p>You'll need four items to configure the object store. We're prefixing each item with how we'll refer to it further on.</p> <ol> <li><code>OS_ENDPOINT</code>: The access endpoint. For example, MinIO's endpoints are usually something like <code>minio-server:9000</code>. Don't begin it with the protocol; it's an endpoint, not an url.</li> <li><code>OS_BUCKET_NAME</code>: The bucket name you're dedicating to Pachyderm. Pachyderm will need exclusive access to this bucket.</li> <li><code>OS_ACCESS_KEY_ID</code>: The access key id for the object store. This is like a user name for logging into the object store.</li> <li><code>OS_SECRET_KEY</code>: The secret key for the object store. This is like the above user's password.</li> </ol> <p>Keep this information handy.</p> <h3 id=next-step-creating-a-custom-deploy-manifest-for-pachyderm>Next step: creating a custom deploy manifest for Pachyderm<a class=headerlink href=#next-step-creating-a-custom-deploy-manifest-for-pachyderm title="Permanent link">&para;</a></h3> <p>Once you have Kubernetes deployed, your persistent volume created, and your object store configured, it's time to <a href=../deploy_custom/ >create the Pachyderm manifest for deploying to Kubernetes</a>.</p> <h2 id=see-also>See Also<a class=headerlink href=#see-also title="Permanent link">&para;</a></h2> <h3 id=kubernetes-variants>Kubernetes variants<a class=headerlink href=#kubernetes-variants title="Permanent link">&para;</a></h3> <ul> <li><a href=../openshift/ >OpenShift</a></li> </ul> <h3 id=object-storage-variants>Object storage variants<a class=headerlink href=#object-storage-variants title="Permanent link">&para;</a></h3> <ul> <li><a href=../non-cloud-object-stores/#emc-ecs>EMC ECS</a></li> <li><a href=../non-cloud-object-stores/#minio>MinIO</a></li> <li><a href=../non-cloud-object-stores/#swiftstack>SwiftStack</a></li> </ul> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../openshift/ title="Deploy on OpenShift" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Deploy on OpenShift </span> </div> </a> <a href=../deploy_custom/ title=Overview class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> Overview </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright Pachyderm Inc, 2019 </div> </div> <div class=md-footer-social> <link rel=stylesheet href=../../../assets/fonts/font-awesome.css> <a href=https://github.com/pachyderm/pachyderm class="md-footer-social__link fa fa-github-alt"></a> <a href=https://twitter.com/pachydermio class="md-footer-social__link fa fa-twitter"></a> <a href=https://www.linkedin.com/company/pachyderm-inc- class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../../assets/javascripts/application.30d8a07d.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script> </body> </html>