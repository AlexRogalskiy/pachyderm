<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=description content="Pachyderm Documention"><link href=https://docs.pachyderm.com/reference/pipeline_spec/ rel=canonical><meta name=author content="Pachyderm Team"><meta name=lang:clipboard.copy content="Copy to clipboard"><meta name=lang:clipboard.copied content="Copied to clipboard"><meta name=lang:search.language content=en><meta name=lang:search.pipeline.stopwords content=True><meta name=lang:search.pipeline.trimmer content=True><meta name=lang:search.result.none content="No matching documents"><meta name=lang:search.result.one content="1 matching document"><meta name=lang:search.result.other content="# matching documents"><meta name=lang:search.tokenizer content=[\s\-]+><link rel="shortcut icon" href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.0.4, mkdocs-material-4.4.0"><title>Pipeline Specification - Pachyderm Documentation</title><link rel=stylesheet href=../../assets/stylesheets/application.87b3805a.css><script src=../../assets/javascripts/modernizr.74668098.js></script><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel=stylesheet href=../../assets/fonts/material-icons.css><link rel=stylesheet href=../../assets/stylesheets/extra.css><script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "None", "{'autosite_name': 'Pachyderm Documentation'}")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr> <svg class=md-svg> <defs> <svg xmlns=http://www.w3.org/2000/svg width=416 height=448 viewbox="0 0 416 448" id=__github><path fill=currentColor d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg> </defs> </svg> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay data-md-component=overlay for=__drawer></label> <a href=#pipeline-specification tabindex=1 class=md-skip> Skip to content </a> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid"> <div class=md-flex> <div class="md-flex__cell md-flex__cell--shrink"> <a href=https://docs.pachyderm.com title="Pachyderm Documentation" class="md-header-nav__button md-logo"> <i class=md-icon></i> </a> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--menu md-header-nav__button" for=__drawer></label> </div> <div class="md-flex__cell md-flex__cell--stretch"> <div class="md-flex__ellipsis md-header-nav__title" data-md-component=title> <span class=md-header-nav__topic> Pachyderm Documentation </span> <span class=md-header-nav__topic> Pipeline Specification </span> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <label class="md-icon md-icon--search md-header-nav__button" for=__search></label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=query data-md-state=active> <label class="md-icon md-search__icon" for=__search></label> <button type=reset class="md-icon md-search__icon" data-md-component=reset tabindex=-1> &#xE5CD; </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=result> <div class=md-search-result__meta> Type to start searching </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <a href=https://github.com/pachyderm/pachyderm title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> pachyderm/pachyderm </div> </a> </div> </div> <div class="md-flex__cell md-flex__cell--shrink"> <div class=md-header-nav__source> <div class=mdl-selectfield> <select class=mdl-selectfield__select onchange="let pathParts = window.location.pathname.split('/'); pathParts[1] = this.value; window.location.pathname = pathParts.join('/')"> <option style selected value>latest</option> </select> </div> </div> </div> </div> </nav> </header> <div class=md-container> <nav class="md-tabs md-tabs--active" data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. title=Home class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../getting_started/local_installation/ title="Getting Started" class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../../concepts/data-concepts/ title=Concepts class=md-tabs__link> Concepts </a> </li> <li class=md-tabs__item> <a href=../../how-tos/individual-developer-workflow/ title=How-Tos class=md-tabs__link> How-Tos </a> </li> <li class=md-tabs__item> <a href=../../deploy-manage/deploy/ title="Deploy and Manage" class=md-tabs__link> Deploy and Manage </a> </li> <li class=md-tabs__item> <a href=./ title=Reference class="md-tabs__link md-tabs__link--active"> Reference </a> </li> <li class=md-tabs__item> <a href=../../enterprise/overview/ title=Enterprise class=md-tabs__link> Enterprise </a> </li> <li class=md-tabs__item> <a href=../../troubleshooting/general_troubleshooting/ title=Troubleshooting class=md-tabs__link> Troubleshooting </a> </li> </ul> </div> </nav> <main class=md-main> <div class="md-main__inner md-grid" data-md-component=container> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" data-md-level=0> <label class="md-nav__title md-nav__title--site" for=__drawer> <a href=https://docs.pachyderm.com title="Pachyderm Documentation" class="md-nav__button md-logo"> <i class=md-icon></i> </a> Pachyderm Documentation </label> <div class=md-nav__source> <a href=https://github.com/pachyderm/pachyderm title="Go to repository" class=md-source data-md-source=github> <div class=md-source__icon> <svg viewbox="0 0 24 24" width=24 height=24> <use xlink:href=#__github width=24 height=24></use> </svg> </div> <div class=md-source__repository> pachyderm/pachyderm </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1 type=checkbox id=nav-1> <label class=md-nav__link for=nav-1> Home </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-1> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=Welcome class=md-nav__link> Welcome </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-1-2 type=checkbox id=nav-1-2> <label class=md-nav__link for=nav-1-2> Contributing </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-1-2> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../contributing/setup/ title="Setup for Contributors" class=md-nav__link> Setup for Contributors </a> </li> <li class=md-nav__item> <a href=../../contributing/gcloud-setup/ title="Gcloud Cluster Setup" class=md-nav__link> Gcloud Cluster Setup </a> </li> <li class=md-nav__item> <a href=../../contributing/repo-layout/ title="Repo Layout" class=md-nav__link> Repo Layout </a> </li> <li class=md-nav__item> <a href=../../contributing/coding-conventions/ title="Coding Conventions" class=md-nav__link> Coding Conventions </a> </li> <li class=md-nav__item> <a href=../../contributing/docs-style-guide/ title="Documentation Style Guide" class=md-nav__link> Documentation Style Guide </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> Getting Started </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-2> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../getting_started/local_installation/ title="Local Installation" class=md-nav__link> Local Installation </a> </li> <li class=md-nav__item> <a href=../../getting_started/beginner_tutorial/ title="Beginner Tutorial" class=md-nav__link> Beginner Tutorial </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3 type=checkbox id=nav-3> <label class=md-nav__link for=nav-3> Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-3> Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-1 type=checkbox id=nav-3-1> <label class=md-nav__link for=nav-3-1> Versioned Data Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-1> Versioned Data Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/data-concepts/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../concepts/data-concepts/repo/ title=Repository class=md-nav__link> Repository </a> </li> <li class=md-nav__item> <a href=../../concepts/data-concepts/commit/ title=Commit class=md-nav__link> Commit </a> </li> <li class=md-nav__item> <a href=../../concepts/data-concepts/branch/ title=Branch class=md-nav__link> Branch </a> </li> <li class=md-nav__item> <a href=../../concepts/data-concepts/file/ title=File class=md-nav__link> File </a> </li> <li class=md-nav__item> <a href=../../concepts/data-concepts/provenance/ title=Provenance class=md-nav__link> Provenance </a> </li> <li class=md-nav__item> <a href=../../concepts/data-concepts/history/ title=History class=md-nav__link> History </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-2 type=checkbox id=nav-3-2> <label class=md-nav__link for=nav-3-2> Pipeline Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-2> Pipeline Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/ title=Overview class=md-nav__link> Overview </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-2-2 type=checkbox id=nav-3-2-2> <label class=md-nav__link for=nav-3-2-2> Pipeline </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-3-2-2> Pipeline </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/pipeline/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/pipeline/cron/ title=Cron class=md-nav__link> Cron </a> </li> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/pipeline/service/ title=Service class=md-nav__link> Service </a> </li> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/pipeline/spout/ title=Spout class=md-nav__link> Spout </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/job/ title=Job class=md-nav__link> Job </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-2-4 type=checkbox id=nav-3-2-4> <label class=md-nav__link for=nav-3-2-4> Datum </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-3-2-4> Datum </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/datum/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/datum/glob-pattern/ title="Glob Patterns" class=md-nav__link> Glob Patterns </a> </li> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/datum/relationship-between-datums/ title="Datum Processing" class=md-nav__link> Datum Processing </a> </li> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/datum/cross-union/ title="Cross and Union Inputs" class=md-nav__link> Cross and Union Inputs </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-3-3 type=checkbox id=nav-3-3> <label class=md-nav__link for=nav-3-3> Advanced Concepts </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-3-3> Advanced Concepts </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../concepts/pipeline-concepts/distributed_computing/ title="Distributed Computing" class=md-nav__link> Distributed Computing </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> How-Tos </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-4> How-Tos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../how-tos/individual-developer-workflow/ title="Individual Developer Workflow" class=md-nav__link> Individual Developer Workflow </a> </li> <li class=md-nav__item> <a href=../../how-tos/team-developer-workflow/ title="Team Developer Workflow" class=md-nav__link> Team Developer Workflow </a> </li> <li class=md-nav__item> <a href=../../how-tos/load-data-into-pachyderm/ title="Load Your Data Into Pachyderm" class=md-nav__link> Load Your Data Into Pachyderm </a> </li> <li class=md-nav__item> <a href=../../how-tos/export-data-out-pachyderm/ title="Export Your Data From Pachyderm" class=md-nav__link> Export Your Data From Pachyderm </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-4-5 type=checkbox id=nav-4-5> <label class=md-nav__link for=nav-4-5> Split Data </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-4-5> Split Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../how-tos/splitting-data/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../how-tos/splitting-data/splitting/ title="Splitting Data for Distributed Processing" class=md-nav__link> Splitting Data for Distributed Processing </a> </li> <li class=md-nav__item> <a href=../../how-tos/splitting-data/adjusting_data_processing_w_split/ title="Adjusting Data Processing by Splitting Data" class=md-nav__link> Adjusting Data Processing by Splitting Data </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../how-tos/combining/ title="Combine, Merge, and Join Data" class=md-nav__link> Combine, Merge, and Join Data </a> </li> <li class=md-nav__item> <a href=../../how-tos/create-ml-workflow/ title="Create a Machine Learning Workflow" class=md-nav__link> Create a Machine Learning Workflow </a> </li> <li class=md-nav__item> <a href=../../how-tos/run_pipeline/ title="Run a Pipeline on a Specific Commit" class=md-nav__link> Run a Pipeline on a Specific Commit </a> </li> <li class=md-nav__item> <a href=../../how-tos/updating_pipelines/ title="Update a Pipeline" class=md-nav__link> Update a Pipeline </a> </li> <li class=md-nav__item> <a href=../../how-tos/time_windows/ title="Processing Time-Windowed Data" class=md-nav__link> Processing Time-Windowed Data </a> </li> <li class=md-nav__item> <a href=../../how-tos/removing_data_from_pachyderm/ title="Delete Data" class=md-nav__link> Delete Data </a> </li> <li class=md-nav__item> <a href=../../how-tos/distributed_computing/ title="Configure Distributed Computing" class=md-nav__link> Configure Distributed Computing </a> </li> <li class=md-nav__item> <a href=../../how-tos/deferred_processing/ title="Deferred Processing of Data" class=md-nav__link> Deferred Processing of Data </a> </li> <li class=md-nav__item> <a href=../../how-tos/ingressing_from_diff_cloud/ title="Ingress and Egress Data from an External Object Store" class=md-nav__link> Ingress and Egress Data from an External Object Store </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Deploy and Manage </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-5> Deploy and Manage </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1 type=checkbox id=nav-5-1> <label class=md-nav__link for=nav-5-1> Deploy Pachyderm </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-1> Deploy Pachyderm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deploy-manage/deploy/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../pachub/pachub_getting_started/ title="Getting Started with Pachyderm Hub" class=md-nav__link> Getting Started with Pachyderm Hub </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/google_cloud_platform/ title="Deploy on GKE" class=md-nav__link> Deploy on GKE </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-4 type=checkbox id=nav-5-1-4> <label class=md-nav__link for=nav-5-1-4> Deploy on AWS </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-4> Deploy on AWS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deploy-manage/deploy/amazon_web_services/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/amazon_web_services/deploy-eks/ title="Deploy Pachyderm on Amazon EKS" class=md-nav__link> Deploy Pachyderm on Amazon EKS </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/amazon_web_services/aws-deploy-kubernetes-kops/ title="Deploy Kubernetes with kops" class=md-nav__link> Deploy Kubernetes with kops </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/amazon_web_services/aws-deploy-pachyderm/ title="Deploy Pachyderm on AWS" class=md-nav__link> Deploy Pachyderm on AWS </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/amazon_web_services/aws_cloudfront/ title="Deploy a Pachyderm Cluster with CloudFront" class=md-nav__link> Deploy a Pachyderm Cluster with CloudFront </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/azure/ title="Deploy on Azure" class=md-nav__link> Deploy on Azure </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/openshift/ title="Deploy on OpenShift" class=md-nav__link> Deploy on OpenShift </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/on_premises/ title="Deploy On-Premises" class=md-nav__link> Deploy On-Premises </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-8 type=checkbox id=nav-5-1-8> <label class=md-nav__link for=nav-5-1-8> Create a Custom Deployment </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-1-8> Create a Custom Deployment </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deploy-manage/deploy/deploy_custom/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/deploy_custom/deploy_custom_before_you_begin/ title="Before You Begin" class=md-nav__link> Before You Begin </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/deploy_custom/deploy_custom_pachyderm_deployment_manifest/ title="Pachyderm Deployment Manifest" class=md-nav__link> Pachyderm Deployment Manifest </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/deploy_custom/deploy_custom_configuring_persistent_disk_parameters/ title="Configuring Persistent Disk Parameters" class=md-nav__link> Configuring Persistent Disk Parameters </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/deploy_custom/deploy_custom_configuring_object_store/ title="Configuring Object Store" class=md-nav__link> Configuring Object Store </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/deploy_custom/deploy_custom_complete_example_invocation/ title="Create a Complete Configuration" class=md-nav__link> Create a Complete Configuration </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/deploy_custom/deploy_custom_additional_flags/ title="Additional flags" class=md-nav__link> Additional flags </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-1-8-8 type=checkbox id=nav-5-1-8-8> <label class=md-nav__link for=nav-5-1-8-8> Other Customizations </label> <nav class=md-nav data-md-component=collapsible data-md-level=4> <label class=md-nav__title for=nav-5-1-8-8> Other Customizations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deploy-manage/deploy/namespaces/ title="Deploy in a Custom Namespace" class=md-nav__link> Deploy in a Custom Namespace </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/non-cloud-object-stores/ title="Deploy a Custom Object Store" class=md-nav__link> Deploy a Custom Object Store </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/rbac/ title="Configure RBAC" class=md-nav__link> Configure RBAC </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/tracing/ title="Configure Tracing with Jaeger" class=md-nav__link> Configure Tracing with Jaeger </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/deploy/connect-to-cluster/ title="Connect to a Pachyderm cluster" class=md-nav__link> Connect to a Pachyderm cluster </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-2 type=checkbox id=nav-5-2> <label class=md-nav__link for=nav-5-2> Manage Pachyderm </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-5-2> Manage Pachyderm </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deploy-manage/manage/cluster-access/ title="Manage Cluster Access" class=md-nav__link> Manage Cluster Access </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/autoscaling/ title="Autoscale your Cluster" class=md-nav__link> Autoscale your Cluster </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/batching_pachyderm_with_transactions/ title="Batching Pachyderm with Transactions" class=md-nav__link> Batching Pachyderm with Transactions </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/backup_restore/ title="Backup and Restore" class=md-nav__link> Backup and Restore </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/data_management/ title="Storage Use Optimization" class=md-nav__link> Storage Use Optimization </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/gpus/ title="Use GPUs" class=md-nav__link> Use GPUs </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/sharing_gpu_resources/ title="Sharing GPU Resources" class=md-nav__link> Sharing GPU Resources </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-5-2-8 type=checkbox id=nav-5-2-8> <label class=md-nav__link for=nav-5-2-8> Upgrades and Migrations </label> <nav class=md-nav data-md-component=collapsible data-md-level=3> <label class=md-nav__title for=nav-5-2-8> Upgrades and Migrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../deploy-manage/manage/upgrades_migrations/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/migrations/ title="Migrate to a Major Version" class=md-nav__link> Migrate to a Major Version </a> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/upgrades/ title="Upgrade your Cluster" class=md-nav__link> Upgrade your Cluster </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../deploy-manage/manage/disable-metrics/ title="Disable Usage Metrics" class=md-nav__link> Disable Usage Metrics </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6 type=checkbox id=nav-6 checked> <label class=md-nav__link for=nav-6> Reference </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-6> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-toggle md-nav__toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Pipeline Specification </label> <a href=./ title="Pipeline Specification" class="md-nav__link md-nav__link--active"> Pipeline Specification </a> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#json-manifest-format title="JSON Manifest Format" class=md-nav__link> JSON Manifest Format </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#name-required title="Name (required)" class=md-nav__link> Name (required) </a> </li> <li class=md-nav__item> <a href=#description-optional title="Description (optional)" class=md-nav__link> Description (optional) </a> </li> <li class=md-nav__item> <a href=#transform-required title="Transform (required)" class=md-nav__link> Transform (required) </a> </li> <li class=md-nav__item> <a href=#parallelism-spec-optional title="Parallelism Spec (optional)" class=md-nav__link> Parallelism Spec (optional) </a> </li> <li class=md-nav__item> <a href=#resource-requests-optional title="Resource Requests (optional)" class=md-nav__link> Resource Requests (optional) </a> </li> <li class=md-nav__item> <a href=#resource-limits-optional title="Resource Limits (optional)" class=md-nav__link> Resource Limits (optional) </a> </li> <li class=md-nav__item> <a href=#datum-timeout-optional title="Datum Timeout (optional)" class=md-nav__link> Datum Timeout (optional) </a> </li> <li class=md-nav__item> <a href=#datum-tries-optional title="Datum Tries (optional)" class=md-nav__link> Datum Tries (optional) </a> </li> <li class=md-nav__item> <a href=#job-timeout-optional title="Job Timeout (optional)" class=md-nav__link> Job Timeout (optional) </a> </li> <li class=md-nav__item> <a href=#input-required title="Input (required)" class=md-nav__link> Input (required) </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pfs-input title="PFS Input" class=md-nav__link> PFS Input </a> </li> <li class=md-nav__item> <a href=#union-input title="Union Input" class=md-nav__link> Union Input </a> </li> <li class=md-nav__item> <a href=#cross-input title="Cross Input" class=md-nav__link> Cross Input </a> </li> <li class=md-nav__item> <a href=#cron-input title="Cron Input" class=md-nav__link> Cron Input </a> </li> <li class=md-nav__item> <a href=#git-input-alpha-feature title="Git Input (alpha feature)" class=md-nav__link> Git Input (alpha feature) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#output-branch-optional title="Output Branch (optional)" class=md-nav__link> Output Branch (optional) </a> </li> <li class=md-nav__item> <a href=#egress-optional title="Egress (optional)" class=md-nav__link> Egress (optional) </a> </li> <li class=md-nav__item> <a href=#standby-optional title="Standby (optional)" class=md-nav__link> Standby (optional) </a> </li> <li class=md-nav__item> <a href=#cache-size-optional title="Cache Size (optional)" class=md-nav__link> Cache Size (optional) </a> </li> <li class=md-nav__item> <a href=#enable-stats-optional title="Enable Stats (optional)" class=md-nav__link> Enable Stats (optional) </a> </li> <li class=md-nav__item> <a href=#service-alpha-feature-optional title="Service (alpha feature, optional)" class=md-nav__link> Service (alpha feature, optional) </a> </li> <li class=md-nav__item> <a href=#spout-optional title="Spout (optional)" class=md-nav__link> Spout (optional) </a> </li> <li class=md-nav__item> <a href=#max-queue-size-optional title="Max Queue Size (optional)" class=md-nav__link> Max Queue Size (optional) </a> </li> <li class=md-nav__item> <a href=#chunk-spec-optional title="Chunk Spec (optional)" class=md-nav__link> Chunk Spec (optional) </a> </li> <li class=md-nav__item> <a href=#scheduling-spec-optional title="Scheduling Spec (optional)" class=md-nav__link> Scheduling Spec (optional) </a> </li> <li class=md-nav__item> <a href=#pod-spec-optional title="Pod Spec (optional)" class=md-nav__link> Pod Spec (optional) </a> </li> <li class=md-nav__item> <a href=#pod-patch-optional title="Pod Patch (optional)" class=md-nav__link> Pod Patch (optional) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#the-input-glob-pattern title="The Input Glob Pattern" class=md-nav__link> The Input Glob Pattern </a> </li> <li class=md-nav__item> <a href=#pps-mounts-and-file-access title="PPS Mounts and File Access" class=md-nav__link> PPS Mounts and File Access </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mount-paths title="Mount Paths" class=md-nav__link> Mount Paths </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../config_spec/ title="Pachyderm Config Specification" class=md-nav__link> Pachyderm Config Specification </a> </li> <li class=md-nav__item> <a href=../clients/ title="Pachyderm Language Clients" class=md-nav__link> Pachyderm Language Clients </a> </li> <li class=md-nav__item> <a href=../s3gateway_api/ title="S3 Gateway API Reference" class=md-nav__link> S3 Gateway API Reference </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-6-5 type=checkbox id=nav-6-5> <label class=md-nav__link for=nav-6-5> Pachctl Reference </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-6-5> Pachctl Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../pachctl/pachctl/ title=Pachctl class=md-nav__link> Pachctl </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth/ title="Pachctl auth" class=md-nav__link> Pachctl auth </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_activate/ title="Pachctl auth activate" class=md-nav__link> Pachctl auth activate </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_check/ title="Pachctl auth check" class=md-nav__link> Pachctl auth check </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_deactivate/ title="Pachctl auth deactivate" class=md-nav__link> Pachctl auth deactivate </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_get-auth-token/ title="Pachctl auth get auth token" class=md-nav__link> Pachctl auth get auth token </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_get-config/ title="Pachctl auth get config" class=md-nav__link> Pachctl auth get config </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_get-otp/ title="Pachctl auth get otp" class=md-nav__link> Pachctl auth get otp </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_get/ title="Pachctl auth get" class=md-nav__link> Pachctl auth get </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_list-admins/ title="Pachctl auth list admins" class=md-nav__link> Pachctl auth list admins </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_login/ title="Pachctl auth login" class=md-nav__link> Pachctl auth login </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_logout/ title="Pachctl auth logout" class=md-nav__link> Pachctl auth logout </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_modify-admins/ title="Pachctl auth modify admins" class=md-nav__link> Pachctl auth modify admins </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_set-config/ title="Pachctl auth set config" class=md-nav__link> Pachctl auth set config </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_set/ title="Pachctl auth set" class=md-nav__link> Pachctl auth set </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_use-auth-token/ title="Pachctl auth use auth token" class=md-nav__link> Pachctl auth use auth token </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_auth_whoami/ title="Pachctl auth whoami" class=md-nav__link> Pachctl auth whoami </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_completion/ title="Pachctl completion" class=md-nav__link> Pachctl completion </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config/ title="Pachctl config" class=md-nav__link> Pachctl config </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_delete/ title="Pachctl config delete" class=md-nav__link> Pachctl config delete </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_delete_context/ title="Pachctl config delete context" class=md-nav__link> Pachctl config delete context </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_get/ title="Pachctl config get" class=md-nav__link> Pachctl config get </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_get_active-context/ title="Pachctl config get active context" class=md-nav__link> Pachctl config get active context </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_get_context/ title="Pachctl config get context" class=md-nav__link> Pachctl config get context </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_get_metrics/ title="Pachctl config get metrics" class=md-nav__link> Pachctl config get metrics </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_list/ title="Pachctl config list" class=md-nav__link> Pachctl config list </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_list_context/ title="Pachctl config list context" class=md-nav__link> Pachctl config list context </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_set/ title="Pachctl config set" class=md-nav__link> Pachctl config set </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_set_active-context/ title="Pachctl config set active context" class=md-nav__link> Pachctl config set active context </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_set_context/ title="Pachctl config set context" class=md-nav__link> Pachctl config set context </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_set_metrics/ title="Pachctl config set metrics" class=md-nav__link> Pachctl config set metrics </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_update/ title="Pachctl config update" class=md-nav__link> Pachctl config update </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_config_update_context/ title="Pachctl config update context" class=md-nav__link> Pachctl config update context </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_copy/ title="Pachctl copy" class=md-nav__link> Pachctl copy </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_copy_file/ title="Pachctl copy file" class=md-nav__link> Pachctl copy file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_create/ title="Pachctl create" class=md-nav__link> Pachctl create </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_create_branch/ title="Pachctl create branch" class=md-nav__link> Pachctl create branch </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_create_pipeline/ title="Pachctl create pipeline" class=md-nav__link> Pachctl create pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_create_repo/ title="Pachctl create repo" class=md-nav__link> Pachctl create repo </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_debug/ title="Pachctl debug" class=md-nav__link> Pachctl debug </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_debug_binary/ title="Pachctl debug binary" class=md-nav__link> Pachctl debug binary </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_debug_dump/ title="Pachctl debug dump" class=md-nav__link> Pachctl debug dump </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_debug_pprof/ title="Pachctl debug pprof" class=md-nav__link> Pachctl debug pprof </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_debug_profile/ title="Pachctl debug profile" class=md-nav__link> Pachctl debug profile </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete/ title="Pachctl delete" class=md-nav__link> Pachctl delete </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_all/ title="Pachctl delete all" class=md-nav__link> Pachctl delete all </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_branch/ title="Pachctl delete branch" class=md-nav__link> Pachctl delete branch </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_commit/ title="Pachctl delete commit" class=md-nav__link> Pachctl delete commit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_file/ title="Pachctl delete file" class=md-nav__link> Pachctl delete file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_job/ title="Pachctl delete job" class=md-nav__link> Pachctl delete job </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_pipeline/ title="Pachctl delete pipeline" class=md-nav__link> Pachctl delete pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_repo/ title="Pachctl delete repo" class=md-nav__link> Pachctl delete repo </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_delete_transaction/ title="Pachctl delete transaction" class=md-nav__link> Pachctl delete transaction </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy/ title="Pachctl deploy" class=md-nav__link> Pachctl deploy </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_amazon/ title="Pachctl deploy amazon" class=md-nav__link> Pachctl deploy amazon </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_custom/ title="Pachctl deploy custom" class=md-nav__link> Pachctl deploy custom </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_export-images/ title="Pachctl deploy export images" class=md-nav__link> Pachctl deploy export images </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_google/ title="Pachctl deploy google" class=md-nav__link> Pachctl deploy google </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_import-images/ title="Pachctl deploy import images" class=md-nav__link> Pachctl deploy import images </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_list-images/ title="Pachctl deploy list images" class=md-nav__link> Pachctl deploy list images </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_local/ title="Pachctl deploy local" class=md-nav__link> Pachctl deploy local </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_microsoft/ title="Pachctl deploy microsoft" class=md-nav__link> Pachctl deploy microsoft </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_storage/ title="Pachctl deploy storage" class=md-nav__link> Pachctl deploy storage </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_storage_amazon/ title="Pachctl deploy storage amazon" class=md-nav__link> Pachctl deploy storage amazon </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_storage_google/ title="Pachctl deploy storage google" class=md-nav__link> Pachctl deploy storage google </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_deploy_storage_microsoft/ title="Pachctl deploy storage microsoft" class=md-nav__link> Pachctl deploy storage microsoft </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_diff/ title="Pachctl diff" class=md-nav__link> Pachctl diff </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_diff_file/ title="Pachctl diff file" class=md-nav__link> Pachctl diff file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_edit/ title="Pachctl edit" class=md-nav__link> Pachctl edit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_edit_pipeline/ title="Pachctl edit pipeline" class=md-nav__link> Pachctl edit pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_enterprise/ title="Pachctl enterprise" class=md-nav__link> Pachctl enterprise </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_enterprise_activate/ title="Pachctl enterprise activate" class=md-nav__link> Pachctl enterprise activate </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_enterprise_get-state/ title="Pachctl enterprise get state" class=md-nav__link> Pachctl enterprise get state </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_extract/ title="Pachctl extract" class=md-nav__link> Pachctl extract </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_extract_pipeline/ title="Pachctl extract pipeline" class=md-nav__link> Pachctl extract pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_finish/ title="Pachctl finish" class=md-nav__link> Pachctl finish </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_finish_commit/ title="Pachctl finish commit" class=md-nav__link> Pachctl finish commit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_finish_transaction/ title="Pachctl finish transaction" class=md-nav__link> Pachctl finish transaction </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_flush/ title="Pachctl flush" class=md-nav__link> Pachctl flush </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_flush_commit/ title="Pachctl flush commit" class=md-nav__link> Pachctl flush commit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_flush_job/ title="Pachctl flush job" class=md-nav__link> Pachctl flush job </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_fsck/ title="Pachctl fsck" class=md-nav__link> Pachctl fsck </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_garbage-collect/ title="Pachctl garbage collect" class=md-nav__link> Pachctl garbage collect </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_get/ title="Pachctl get" class=md-nav__link> Pachctl get </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_get_file/ title="Pachctl get file" class=md-nav__link> Pachctl get file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_get_object/ title="Pachctl get object" class=md-nav__link> Pachctl get object </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_get_tag/ title="Pachctl get tag" class=md-nav__link> Pachctl get tag </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_glob/ title="Pachctl glob" class=md-nav__link> Pachctl glob </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_glob_file/ title="Pachctl glob file" class=md-nav__link> Pachctl glob file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect/ title="Pachctl inspect" class=md-nav__link> Pachctl inspect </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_cluster/ title="Pachctl inspect cluster" class=md-nav__link> Pachctl inspect cluster </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_commit/ title="Pachctl inspect commit" class=md-nav__link> Pachctl inspect commit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_datum/ title="Pachctl inspect datum" class=md-nav__link> Pachctl inspect datum </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_file/ title="Pachctl inspect file" class=md-nav__link> Pachctl inspect file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_job/ title="Pachctl inspect job" class=md-nav__link> Pachctl inspect job </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_pipeline/ title="Pachctl inspect pipeline" class=md-nav__link> Pachctl inspect pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_repo/ title="Pachctl inspect repo" class=md-nav__link> Pachctl inspect repo </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_inspect_transaction/ title="Pachctl inspect transaction" class=md-nav__link> Pachctl inspect transaction </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list/ title="Pachctl list" class=md-nav__link> Pachctl list </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_branch/ title="Pachctl list branch" class=md-nav__link> Pachctl list branch </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_commit/ title="Pachctl list commit" class=md-nav__link> Pachctl list commit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_datum/ title="Pachctl list datum" class=md-nav__link> Pachctl list datum </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_file/ title="Pachctl list file" class=md-nav__link> Pachctl list file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_job/ title="Pachctl list job" class=md-nav__link> Pachctl list job </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_pipeline/ title="Pachctl list pipeline" class=md-nav__link> Pachctl list pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_repo/ title="Pachctl list repo" class=md-nav__link> Pachctl list repo </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_list_transaction/ title="Pachctl list transaction" class=md-nav__link> Pachctl list transaction </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_logs/ title="Pachctl logs" class=md-nav__link> Pachctl logs </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_mount/ title="Pachctl mount" class=md-nav__link> Pachctl mount </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_port-forward/ title="Pachctl port forward" class=md-nav__link> Pachctl port forward </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_put/ title="Pachctl put" class=md-nav__link> Pachctl put </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_put_file/ title="Pachctl put file" class=md-nav__link> Pachctl put file </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_restart/ title="Pachctl restart" class=md-nav__link> Pachctl restart </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_restart_datum/ title="Pachctl restart datum" class=md-nav__link> Pachctl restart datum </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_restore/ title="Pachctl restore" class=md-nav__link> Pachctl restore </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_resume/ title="Pachctl resume" class=md-nav__link> Pachctl resume </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_resume_transaction/ title="Pachctl resume transaction" class=md-nav__link> Pachctl resume transaction </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_run/ title="Pachctl run" class=md-nav__link> Pachctl run </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_run_pipeline/ title="Pachctl run pipeline" class=md-nav__link> Pachctl run pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_start/ title="Pachctl start" class=md-nav__link> Pachctl start </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_start_commit/ title="Pachctl start commit" class=md-nav__link> Pachctl start commit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_start_pipeline/ title="Pachctl start pipeline" class=md-nav__link> Pachctl start pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_start_transaction/ title="Pachctl start transaction" class=md-nav__link> Pachctl start transaction </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_stop/ title="Pachctl stop" class=md-nav__link> Pachctl stop </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_stop_job/ title="Pachctl stop job" class=md-nav__link> Pachctl stop job </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_stop_pipeline/ title="Pachctl stop pipeline" class=md-nav__link> Pachctl stop pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_stop_transaction/ title="Pachctl stop transaction" class=md-nav__link> Pachctl stop transaction </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_subscribe/ title="Pachctl subscribe" class=md-nav__link> Pachctl subscribe </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_subscribe_commit/ title="Pachctl subscribe commit" class=md-nav__link> Pachctl subscribe commit </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_undeploy/ title="Pachctl undeploy" class=md-nav__link> Pachctl undeploy </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_unmount/ title="Pachctl unmount" class=md-nav__link> Pachctl unmount </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_update-dash/ title="Pachctl update dash" class=md-nav__link> Pachctl update dash </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_update/ title="Pachctl update" class=md-nav__link> Pachctl update </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_update_pipeline/ title="Pachctl update pipeline" class=md-nav__link> Pachctl update pipeline </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_update_repo/ title="Pachctl update repo" class=md-nav__link> Pachctl update repo </a> </li> <li class=md-nav__item> <a href=../pachctl/pachctl_version/ title="Pachctl version" class=md-nav__link> Pachctl version </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../examples/examples/ title=Examples class=md-nav__link> Examples </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7 type=checkbox id=nav-7> <label class=md-nav__link for=nav-7> Enterprise </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-7> Enterprise </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../enterprise/overview/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../enterprise/deployment/ title="Deploy Enterprise Edition" class=md-nav__link> Deploy Enterprise Edition </a> </li> <li class=md-nav__item> <a href=../../enterprise/auth/auth/ title="Configure Access Controls" class=md-nav__link> Configure Access Controls </a> </li> <li class=md-nav__item> <a href=../../enterprise/stats/ title="Advanced Statistics" class=md-nav__link> Advanced Statistics </a> </li> <li class=md-nav__item> <a href=../../enterprise/s3gateway/ title="Using the S3 Gateway" class=md-nav__link> Using the S3 Gateway </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-7-6 type=checkbox id=nav-7-6> <label class=md-nav__link for=nav-7-6> Configure Pachyderm with an Access Management Provider </label> <nav class=md-nav data-md-component=collapsible data-md-level=2> <label class=md-nav__title for=nav-7-6> Configure Pachyderm with an Access Management Provider </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../enterprise/saml/ title=Overview class=md-nav__link> Overview </a> </li> <li class=md-nav__item> <a href=../../enterprise/saml_setup/ title="Configure SAML" class=md-nav__link> Configure SAML </a> </li> <li class=md-nav__item> <a href=../../enterprise/saml_usage/ title="Use SAML" class=md-nav__link> Use SAML </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-toggle md-nav__toggle" data-md-toggle=nav-8 type=checkbox id=nav-8> <label class=md-nav__link for=nav-8> Troubleshooting </label> <nav class=md-nav data-md-component=collapsible data-md-level=1> <label class=md-nav__title for=nav-8> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../troubleshooting/general_troubleshooting/ title="General Troubleshooting" class=md-nav__link> General Troubleshooting </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/deploy_troubleshooting/ title="Deployment Troubleshootin" class=md-nav__link> Deployment Troubleshootin </a> </li> <li class=md-nav__item> <a href=../../troubleshooting/pipeline_troubleshooting/ title="Pipeline Troubleshooting" class=md-nav__link> Pipeline Troubleshooting </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary"> <label class=md-nav__title for=__toc>Table of contents</label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#json-manifest-format title="JSON Manifest Format" class=md-nav__link> JSON Manifest Format </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#name-required title="Name (required)" class=md-nav__link> Name (required) </a> </li> <li class=md-nav__item> <a href=#description-optional title="Description (optional)" class=md-nav__link> Description (optional) </a> </li> <li class=md-nav__item> <a href=#transform-required title="Transform (required)" class=md-nav__link> Transform (required) </a> </li> <li class=md-nav__item> <a href=#parallelism-spec-optional title="Parallelism Spec (optional)" class=md-nav__link> Parallelism Spec (optional) </a> </li> <li class=md-nav__item> <a href=#resource-requests-optional title="Resource Requests (optional)" class=md-nav__link> Resource Requests (optional) </a> </li> <li class=md-nav__item> <a href=#resource-limits-optional title="Resource Limits (optional)" class=md-nav__link> Resource Limits (optional) </a> </li> <li class=md-nav__item> <a href=#datum-timeout-optional title="Datum Timeout (optional)" class=md-nav__link> Datum Timeout (optional) </a> </li> <li class=md-nav__item> <a href=#datum-tries-optional title="Datum Tries (optional)" class=md-nav__link> Datum Tries (optional) </a> </li> <li class=md-nav__item> <a href=#job-timeout-optional title="Job Timeout (optional)" class=md-nav__link> Job Timeout (optional) </a> </li> <li class=md-nav__item> <a href=#input-required title="Input (required)" class=md-nav__link> Input (required) </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#pfs-input title="PFS Input" class=md-nav__link> PFS Input </a> </li> <li class=md-nav__item> <a href=#union-input title="Union Input" class=md-nav__link> Union Input </a> </li> <li class=md-nav__item> <a href=#cross-input title="Cross Input" class=md-nav__link> Cross Input </a> </li> <li class=md-nav__item> <a href=#cron-input title="Cron Input" class=md-nav__link> Cron Input </a> </li> <li class=md-nav__item> <a href=#git-input-alpha-feature title="Git Input (alpha feature)" class=md-nav__link> Git Input (alpha feature) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#output-branch-optional title="Output Branch (optional)" class=md-nav__link> Output Branch (optional) </a> </li> <li class=md-nav__item> <a href=#egress-optional title="Egress (optional)" class=md-nav__link> Egress (optional) </a> </li> <li class=md-nav__item> <a href=#standby-optional title="Standby (optional)" class=md-nav__link> Standby (optional) </a> </li> <li class=md-nav__item> <a href=#cache-size-optional title="Cache Size (optional)" class=md-nav__link> Cache Size (optional) </a> </li> <li class=md-nav__item> <a href=#enable-stats-optional title="Enable Stats (optional)" class=md-nav__link> Enable Stats (optional) </a> </li> <li class=md-nav__item> <a href=#service-alpha-feature-optional title="Service (alpha feature, optional)" class=md-nav__link> Service (alpha feature, optional) </a> </li> <li class=md-nav__item> <a href=#spout-optional title="Spout (optional)" class=md-nav__link> Spout (optional) </a> </li> <li class=md-nav__item> <a href=#max-queue-size-optional title="Max Queue Size (optional)" class=md-nav__link> Max Queue Size (optional) </a> </li> <li class=md-nav__item> <a href=#chunk-spec-optional title="Chunk Spec (optional)" class=md-nav__link> Chunk Spec (optional) </a> </li> <li class=md-nav__item> <a href=#scheduling-spec-optional title="Scheduling Spec (optional)" class=md-nav__link> Scheduling Spec (optional) </a> </li> <li class=md-nav__item> <a href=#pod-spec-optional title="Pod Spec (optional)" class=md-nav__link> Pod Spec (optional) </a> </li> <li class=md-nav__item> <a href=#pod-patch-optional title="Pod Patch (optional)" class=md-nav__link> Pod Patch (optional) </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#the-input-glob-pattern title="The Input Glob Pattern" class=md-nav__link> The Input Glob Pattern </a> </li> <li class=md-nav__item> <a href=#pps-mounts-and-file-access title="PPS Mounts and File Access" class=md-nav__link> PPS Mounts and File Access </a> <nav class=md-nav> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mount-paths title="Mount Paths" class=md-nav__link> Mount Paths </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <h1 id=pipeline-specification>Pipeline Specification<a class=headerlink href=#pipeline-specification title="Permanent link">&para;</a></h1> <p>This document discusses each of the fields present in a pipeline specification. To see how to use a pipeline spec to create a pipeline, refer to the <a href=../pachctl/pachctl_create_pipeline/ >pachctl create pipeline</a> section.</p> <h2 id=json-manifest-format>JSON Manifest Format<a class=headerlink href=#json-manifest-format title="Permanent link">&para;</a></h2> <div class=codehilite><pre><span></span><span class=p>{</span>
  <span class=nt>&quot;pipeline&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span>
  <span class=p>},</span>
  <span class=nt>&quot;description&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;transform&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;image&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
    <span class=nt>&quot;cmd&quot;</span><span class=p>:</span> <span class=p>[</span> <span class=err>string</span> <span class=p>],</span>
    <span class=nt>&quot;stdin&quot;</span><span class=p>:</span> <span class=p>[</span> <span class=err>string</span> <span class=p>],</span>
    <span class=nt>&quot;err_cmd&quot;</span><span class=p>:</span> <span class=p>[</span> <span class=err>string</span> <span class=p>],</span>
    <span class=nt>&quot;err_stdin&quot;</span><span class=p>:</span> <span class=p>[</span> <span class=err>string</span> <span class=p>],</span>
    <span class=nt>&quot;env&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=err>string:</span> <span class=err>string</span>
    <span class=p>},</span>
    <span class=nt>&quot;secrets&quot;</span><span class=p>:</span> <span class=p>[</span> <span class=p>{</span>
        <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
        <span class=nt>&quot;mount_path&quot;</span><span class=p>:</span> <span class=err>string</span>
    <span class=p>},</span>
    <span class=p>{</span>
        <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
        <span class=nt>&quot;env_var&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
        <span class=nt>&quot;key&quot;</span><span class=p>:</span> <span class=err>string</span>
    <span class=p>}</span> <span class=p>],</span>
    <span class=nt>&quot;image_pull_secrets&quot;</span><span class=p>:</span> <span class=p>[</span> <span class=err>string</span> <span class=p>],</span>
    <span class=nt>&quot;accept_return_code&quot;</span><span class=p>:</span> <span class=p>[</span> <span class=err>int</span> <span class=p>],</span>
    <span class=nt>&quot;debug&quot;</span><span class=p>:</span> <span class=err>bool</span><span class=p>,</span>
    <span class=nt>&quot;user&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
    <span class=nt>&quot;working_dir&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;parallelism_spec&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=err>//</span> <span class=err>Set</span> <span class=err>at</span> <span class=err>most</span> <span class=err>one</span> <span class=err>of</span> <span class=err>the</span> <span class=err>following:</span>
    <span class=nt>&quot;constant&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
    <span class=nt>&quot;coefficient&quot;</span><span class=p>:</span> <span class=err>number</span>
  <span class=p>},</span>
  <span class=nt>&quot;hashtree_spec&quot;</span><span class=p>:</span> <span class=p>{</span>
   <span class=nt>&quot;constant&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;resource_requests&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;memory&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
    <span class=nt>&quot;cpu&quot;</span><span class=p>:</span> <span class=err>number</span><span class=p>,</span>
    <span class=nt>&quot;disk&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;resource_limits&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;memory&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
    <span class=nt>&quot;cpu&quot;</span><span class=p>:</span> <span class=err>number</span><span class=p>,</span>
    <span class=nt>&quot;gpu&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;type&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;number&quot;</span><span class=p>:</span> <span class=err>int</span>
    <span class=p>}</span>
    <span class=s2>&quot;disk&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=p>},</span>
  <span class=nt>&quot;datum_timeout&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;datum_tries&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
  <span class=nt>&quot;job_timeout&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;input&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=err>&lt;</span><span class=nt>&quot;pfs&quot;</span><span class=p>,</span> <span class=nt>&quot;cross&quot;</span><span class=p>,</span> <span class=nt>&quot;union&quot;</span><span class=p>,</span> <span class=nt>&quot;cron&quot;</span><span class=p>,</span> <span class=err>or</span> <span class=nt>&quot;git&quot;</span> <span class=err>see</span> <span class=err>below&gt;</span>
  <span class=p>},</span>
  <span class=nt>&quot;output_branch&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;egress&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;URL&quot;</span><span class=p>:</span> <span class=s2>&quot;s3://bucket/dir&quot;</span>
  <span class=p>},</span>
  <span class=nt>&quot;standby&quot;</span><span class=p>:</span> <span class=err>bool</span><span class=p>,</span>
  <span class=nt>&quot;cache_size&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;enable_stats&quot;</span><span class=p>:</span> <span class=err>bool</span><span class=p>,</span>
  <span class=nt>&quot;service&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;internal_port&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
    <span class=nt>&quot;external_port&quot;</span><span class=p>:</span> <span class=err>int</span>
  <span class=p>},</span>
  <span class=nt>&quot;spout&quot;</span><span class=p>:</span> <span class=p>{</span>
  <span class=nt>&quot;overwrite&quot;</span><span class=p>:</span> <span class=err>bool</span>
  <span class=err>\\</span> <span class=err>Optionally</span><span class=p>,</span> <span class=err>you</span> <span class=err>can</span> <span class=err>combine</span> <span class=err>a</span> <span class=err>spout</span> <span class=err>with</span> <span class=err>a</span> <span class=err>service:</span>
  <span class=nt>&quot;service&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>&quot;internal_port&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
        <span class=nt>&quot;external_port&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
        <span class=nt>&quot;annotations&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=nt>&quot;foo&quot;</span><span class=p>:</span> <span class=s2>&quot;bar&quot;</span>
        <span class=p>}</span>
    <span class=p>}</span>
  <span class=p>},</span>
  <span class=nt>&quot;max_queue_size&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
  <span class=nt>&quot;chunk_spec&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;number&quot;</span><span class=p>:</span> <span class=err>int</span><span class=p>,</span>
    <span class=nt>&quot;size_bytes&quot;</span><span class=p>:</span> <span class=err>int</span>
  <span class=p>},</span>
  <span class=nt>&quot;scheduling_spec&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;node_selector&quot;</span><span class=p>:</span> <span class=p>{</span><span class=err>string:</span> <span class=err>string</span><span class=p>},</span>
    <span class=nt>&quot;priority_class_name&quot;</span><span class=p>:</span> <span class=err>string</span>
  <span class=p>},</span>
  <span class=nt>&quot;pod_spec&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;pod_patch&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
<span class=p>}</span>

<span class=err>------------------------------------</span>
<span class=s2>&quot;pfs&quot;</span> <span class=err>input</span>
<span class=err>------------------------------------</span>

<span class=s2>&quot;pfs&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;repo&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;branch&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;glob&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;lazy&quot;</span> <span class=err>bool</span><span class=p>,</span>
  <span class=nt>&quot;empty_files&quot;</span><span class=p>:</span> <span class=err>bool</span>
<span class=p>}</span>

<span class=err>------------------------------------</span>
<span class=s2>&quot;cross&quot;</span> <span class=err>or</span> <span class=s2>&quot;union&quot;</span> <span class=err>input</span>
<span class=err>------------------------------------</span>

<span class=s2>&quot;cross&quot;</span> <span class=err>or</span> <span class=s2>&quot;union&quot;</span><span class=err>:</span> <span class=p>[</span>
  <span class=p>{</span>
    <span class=nt>&quot;pfs&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;repo&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;branch&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;glob&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;lazy&quot;</span> <span class=err>bool</span><span class=p>,</span>
      <span class=nt>&quot;empty_files&quot;</span><span class=p>:</span> <span class=err>bool</span>
    <span class=p>}</span>
  <span class=p>},</span>
  <span class=p>{</span>
    <span class=nt>&quot;pfs&quot;</span><span class=p>:</span> <span class=p>{</span>
      <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;repo&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;branch&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;glob&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
      <span class=nt>&quot;lazy&quot;</span> <span class=err>bool</span><span class=p>,</span>
      <span class=nt>&quot;empty_files&quot;</span><span class=p>:</span> <span class=err>bool</span>
    <span class=p>}</span>
  <span class=p>}</span>
  <span class=err>etc...</span>
<span class=p>]</span>



<span class=err>------------------------------------</span>
<span class=s2>&quot;cron&quot;</span> <span class=err>input</span>
<span class=err>------------------------------------</span>

<span class=s2>&quot;cron&quot;</span><span class=err>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
    <span class=nt>&quot;spec&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
    <span class=nt>&quot;repo&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
    <span class=nt>&quot;start&quot;</span><span class=p>:</span> <span class=err>time</span><span class=p>,</span>
    <span class=nt>&quot;overwrite&quot;</span><span class=p>:</span> <span class=err>bool</span>
<span class=p>}</span>

<span class=err>------------------------------------</span>
<span class=s2>&quot;git&quot;</span> <span class=err>input</span>
<span class=err>------------------------------------</span>

<span class=s2>&quot;git&quot;</span><span class=err>:</span> <span class=p>{</span>
  <span class=nt>&quot;URL&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=err>string</span><span class=p>,</span>
  <span class=nt>&quot;branch&quot;</span><span class=p>:</span> <span class=err>string</span>
<span class=p>}</span>
</pre></div> <p>In practice, you rarely need to specify all the fields. Most fields either come with sensible defaults or can be empty. The following text is an example of a minimum spec:</p> <div class=codehilite><pre><span></span><span class=p>{</span>
  <span class=nt>&quot;pipeline&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;name&quot;</span><span class=p>:</span> <span class=s2>&quot;wordcount&quot;</span>
  <span class=p>},</span>
  <span class=nt>&quot;transform&quot;</span><span class=p>:</span> <span class=p>{</span>
    <span class=nt>&quot;image&quot;</span><span class=p>:</span> <span class=s2>&quot;wordcount-image&quot;</span><span class=p>,</span>
    <span class=nt>&quot;cmd&quot;</span><span class=p>:</span> <span class=p>[</span><span class=s2>&quot;/binary&quot;</span><span class=p>,</span> <span class=s2>&quot;/pfs/data&quot;</span><span class=p>,</span> <span class=s2>&quot;/pfs/out&quot;</span><span class=p>]</span>
  <span class=p>},</span>
  <span class=nt>&quot;input&quot;</span><span class=p>:</span> <span class=p>{</span>
        <span class=nt>&quot;pfs&quot;</span><span class=p>:</span> <span class=p>{</span>
            <span class=nt>&quot;repo&quot;</span><span class=p>:</span> <span class=s2>&quot;data&quot;</span><span class=p>,</span>
            <span class=nt>&quot;glob&quot;</span><span class=p>:</span> <span class=s2>&quot;/*&quot;</span>
        <span class=p>}</span>
    <span class=p>}</span>
<span class=p>}</span>
</pre></div> <h3 id=name-required>Name (required)<a class=headerlink href=#name-required title="Permanent link">&para;</a></h3> <p><code>pipeline.name</code> is the name of the pipeline that you are creating. Each pipeline needs to have a unique name. Pipeline names must meet the following prerequisites:</p> <ul> <li>Include only alphanumeric characters, <code>_</code> and <code>-</code>.</li> <li>Begin or end with only alphanumeric characters (not <code>_</code> or <code>-</code>).</li> <li>Not exceed 50 characters in length.</li> </ul> <h3 id=description-optional>Description (optional)<a class=headerlink href=#description-optional title="Permanent link">&para;</a></h3> <p><code>description</code> is an optional text field where you can add information about the pipeline.</p> <h3 id=transform-required>Transform (required)<a class=headerlink href=#transform-required title="Permanent link">&para;</a></h3> <p><code>transform.image</code> is the name of the Docker image that your jobs use.</p> <p><code>transform.cmd</code> is the command passed to the Docker run invocation. Similarly to Docker, <code>cmd</code> is not run inside a shell which means that wildcard globbing (<code>*</code>), pipes (<code>|</code>), and file redirects (<code>&gt;</code> and <code>&gt;&gt;</code>) do not work. To specify these settings, you can set <code>cmd</code> to be a shell of your choice, such as <code>sh</code> and pass a shell script to <code>stdin</code>.</p> <p><code>transform.stdin</code> is an array of lines that are sent to your command on <code>stdin</code>. Lines do not have to end in newline characters.</p> <p><code>transform.err_cmd</code> is an optional command that is executed on failed datums. If the <code>err_cmd</code> is successful and returns 0 error code, it does not prevent the job from succeeding. This behavior means that <code>transform.err_cmd</code> can be used to ignore failed datums while still writing successful datums to the output repo, instead of failing the whole job when some datums fail. The <code>transform.err_cmd</code> command has the same limitations as <code>transform.cmd</code>.</p> <p><code>transform.err_stdin</code> is an array of lines that are sent to your error command on <code>stdin</code>. Lines do not have to end in newline characters.</p> <p><code>transform.env</code> is a key-value map of environment variables that Pachyderm injects into the container.</p> <p><strong>Note:</strong> There are environment variables that are automatically injected into the container, for a comprehensive list of them see the <a href=#environment-variables>Environment Variables</a> section below.</p> <p><code>transform.secrets</code> is an array of secrets. You can use the secrets to embed sensitive data, such as credentials. The secrets reference Kubernetes secrets by name and specify a path to map the secrets or an environment variable (<code>env_var</code>) that the value should be bound to. Secrets must set <code>name</code> which should be the name of a secret in Kubernetes. Secrets must also specify either <code>mount_path</code> or <code>env_var</code> and <code>key</code>. See more information about Kubernetes secrets <a href=https://kubernetes.io/docs/concepts/configuration/secret/ >here</a>.</p> <p><code>transform.image_pull_secrets</code> is an array of image pull secrets, image pull secrets are similar to secrets except that they are mounted before the containers are created so they can be used to provide credentials for image pulling. For example, if you are using a private Docker registry for your images, you can specify it by running the following command:</p> <div class=codehilite><pre><span></span>$ kubectl create secret docker-registry myregistrykey --docker-server<span class=o>=</span>DOCKER_REGISTRY_SERVER --docker-username<span class=o>=</span>DOCKER_USER --docker-password<span class=o>=</span>DOCKER_PASSWORD --docker-email<span class=o>=</span>DOCKER_EMAIL
</pre></div> <p>And then, notify your pipeline about it by using <code>"image_pull_secrets": [ "myregistrykey" ]</code>. Read more about image pull secrets <a href=https://kubernetes.io/docs/concepts/containers/images/#specifying-imagepullsecrets-on-a-pod>here</a>.</p> <p><code>transform.accept_return_code</code> is an array of return codes, such as exit codes from your Docker command that are considered acceptable. If your Docker command exits with one of the codes in this array, it is considered a successful run to set job status. <code>0</code> is always considered a successful exit code.</p> <p><code>transform.debug</code> turns on added debug logging for the pipeline.</p> <p><code>transform.user</code> sets the user that your code runs as, this can also be accomplished with a <code>USER</code> directive in your <code>Dockerfile</code>.</p> <p><code>transform.working_dir</code> sets the directory that your command runs from. You can also specify the <code>WORKDIR</code> directive in your <code>Dockerfile</code>.</p> <p><code>transform.dockerfile</code> is the path to the <code>Dockerfile</code> used with the <code>--build</code> flag. This defaults to <code>./Dockerfile</code>.</p> <h3 id=parallelism-spec-optional>Parallelism Spec (optional)<a class=headerlink href=#parallelism-spec-optional title="Permanent link">&para;</a></h3> <p><code>parallelism_spec</code> describes how Pachyderm parallelizes your pipeline. Currently, Pachyderm has two parallelism strategies: <code>constant</code> and <code>coefficient</code>.</p> <p>If you set the <code>constant</code> field, Pachyderm starts the number of workers that you specify. For example, set <code>"constant":10</code> to use 10 workers.</p> <p>If you set the <code>coefficient</code> field, Pachyderm starts a number of workers that is a multiple of your Kubernetes cluster’s size. For example, if your Kubernetes cluster has 10 nodes, and you set <code>"coefficient": 0.5</code>, Pachyderm starts five workers. If you set it to 2.0, Pachyderm starts 20 workers (two per Kubernetes node).</p> <p>The default if left unset is "constant=1".</p> <h3 id=resource-requests-optional>Resource Requests (optional)<a class=headerlink href=#resource-requests-optional title="Permanent link">&para;</a></h3> <p><code>resource_requests</code> describes the amount of resources you expect the workers for a given pipeline to consume. Knowing this in advance lets Pachyderm schedule big jobs on separate machines, so that they do not conflict and either slow down or die.</p> <p>The <code>memory</code> field is a string that describes the amount of memory, in bytes, each worker needs (with allowed SI suffixes (M, K, G, Mi, Ki, Gi, and so on). For example, a worker that needs to read a 1GB file into memory might set <code>"memory": "1.2G"</code> with a little extra for the code to use in addition to the file. Workers for this pipeline will be placed on machines with at least 1.2GB of free memory, and other large workers will be prevented from using it (if they also set their <code>resource_requests</code>).</p> <p>The <code>cpu</code> field is a number that describes the amount of CPU time in <code>cpu seconds/real seconds</code> that each worker needs. Setting <code>"cpu": 0.5</code> indicates that the worker should get 500ms of CPU time per second. Setting <code>"cpu": 2</code> indicates that the worker gets 2000ms of CPU time per second. In other words, it is using 2 CPUs, though worker threads might spend 500ms on four physical CPUs instead of one second on two physical CPUs.</p> <p>The <code>disk</code> field is a string that describes the amount of ephemeral disk space, in bytes, each worker needs with allowed SI suffixes (M, K, G, Mi, Ki, Gi, and so on).</p> <p>In both cases, the resource requests are not upper bounds. If the worker uses more memory than it is requested, it does not mean that it will be shut down. However, if the whole node runs out of memory, Kubernetes starts deleting pods that have been placed on it and exceeded their memory request, to reclaim memory. To prevent deletion of your worker node, you must set your <code>memory</code> request to a sufficiently large value. However, if the total memory requested by all workers in the system is too large, Kubernetes cannot schedule new workers because no machine has enough unclaimed memory. <code>cpu</code> works similarly, but for CPU time.</p> <p>By default, workers are scheduled with an effective resource request of 0 (to avoid scheduling problems that prevent users from being unable to run pipelines). This means that if a node runs out of memory, any such worker might be terminated.</p> <p>For more information about resource requests and limits see the <a href=https://kubernetes.io/docs/concepts/configuration/manage-compute-resources-container/ >Kubernetes docs</a> on the subject.</p> <h3 id=resource-limits-optional>Resource Limits (optional)<a class=headerlink href=#resource-limits-optional title="Permanent link">&para;</a></h3> <p><code>resource_limits</code> describes the upper threshold of allowed resources a given worker can consume. If a worker exceeds this value, it will be evicted.</p> <p>The <code>gpu</code> field is a number that describes how many GPUs each worker needs. Only whole number are supported, Kubernetes does not allow multiplexing of GPUs. Unlike the other resource fields, GPUs only have meaning in Limits, by requesting a GPU the worker will have sole access to that GPU while it is running. It's recommended to enable <code>standby</code> if you are using GPUs so other processes in the cluster will have access to the GPUs while the pipeline has nothing to process. For more information about scheduling GPUs see the <a href=https://kubernetes.io/docs/tasks/manage-gpus/scheduling-gpus/ >Kubernetes docs</a> on the subject.</p> <h3 id=datum-timeout-optional>Datum Timeout (optional)<a class=headerlink href=#datum-timeout-optional title="Permanent link">&para;</a></h3> <p><code>datum_timeout</code> is a string (e.g. <code>1s</code>, <code>5m</code>, or <code>15h</code>) that determines the maximum execution time allowed per datum. So no matter what your parallelism or number of datums, no single datum is allowed to exceed this value.</p> <h3 id=datum-tries-optional>Datum Tries (optional)<a class=headerlink href=#datum-tries-optional title="Permanent link">&para;</a></h3> <p><code>datum_tries</code> is a int (e.g. <code>1</code>, <code>2</code>, or <code>3</code>) that determines the number of retries that a job should attempt given failure was observed. Only failed datums are retries in retry attempt. The the operation succeeds in retry attempts then job is successful, otherwise the job is marked as failure.</p> <h3 id=job-timeout-optional>Job Timeout (optional)<a class=headerlink href=#job-timeout-optional title="Permanent link">&para;</a></h3> <p><code>job_timeout</code> is a string (e.g. <code>1s</code>, <code>5m</code>, or <code>15h</code>) that determines the maximum execution time allowed for a job. It differs from <code>datum_timeout</code> in that the limit gets applied across all workers and all datums. That means that you'll need to keep in mind the parallelism, total number of datums, and execution time per datum when setting this value. Keep in mind that the number of datums may change over jobs. Some new commits may have a bunch of new files (and so new datums). Some may have fewer.</p> <h3 id=input-required>Input (required)<a class=headerlink href=#input-required title="Permanent link">&para;</a></h3> <p><code>input</code> specifies repos that will be visible to the jobs during runtime. Commits to these repos will automatically trigger the pipeline to create new jobs to process them. Input is a recursive type, there are multiple different kinds of inputs which can be combined together. The <code>input</code> object is a container for the different input types with a field for each, only one of these fields be set for any instantiation of the object.</p> <div class=codehilite><pre><span></span>{
    &quot;pfs&quot;: pfs_input,
    &quot;union&quot;: union_input,
    &quot;cross&quot;: cross_input,
    &quot;cron&quot;: cron_input
}
</pre></div> <h4 id=pfs-input>PFS Input<a class=headerlink href=#pfs-input title="Permanent link">&para;</a></h4> <p><strong>Note:</strong> Atom inputs were renamed to PFS inputs in version 1.8.1. If you are using an older version of Pachyderm, replace every instance of <code>pfs</code> with <code>atom</code> in the code below.</p> <p>PFS inputs are the simplest inputs, they take input from a single branch on a single repo.</p> <div class=codehilite><pre><span></span>{
    &quot;name&quot;: string,
    &quot;repo&quot;: string,
    &quot;branch&quot;: string,
    &quot;glob&quot;: string,
    &quot;lazy&quot; bool,
    &quot;empty_files&quot;: bool
}
</pre></div> <p><code>input.pfs.name</code> is the name of the input. An input with the name <code>XXX</code> is visible under the path <code>/pfs/XXX</code> when a job runs. Input names must be unique if the inputs are crossed, but they may be duplicated between <code>PFSInput</code>s that are combined by using the <code>union</code> operator. This is because when <code>PFSInput</code>s are combined, you only ever see a datum from one input at a time. Overlapping the names of combined inputs allows you to write simpler code since you no longer need to consider which input directory a particular datum comes from. If an input's name is not specified, it defaults to the name of the repo. Therefore, if you have two crossed inputs from the same repo, you must give at least one of them a unique name.</p> <p><code>input.pfs.repo</code> is the <code>repo</code> to be used for the input.</p> <p><code>input.pfs.branch</code> is the <code>branch</code> to watch for commits. If left blank, <code>master</code> is used by default.</p> <p><code>input.pfs.glob</code> is a glob pattern that is used to determine how the input data is partitioned. It is explained in detail in the next section.</p> <p><code>input.pfs.lazy</code> controls how the data is exposed to jobs. The default is <code>false</code> which means the job eagerly downloads the data it needs to process and exposes it as normal files on disk. If lazy is set to <code>true</code>, data is exposed as named pipes instead, and no data is downloaded until the job opens the pipe and reads it. If the pipe is never opened, then no data is downloaded.</p> <p>Some applications do not work with pipes. For example, pipes do not support applications that makes <code>syscalls</code> such as <code>Seek</code>. Applications that can work with pipes must use them since they are more performant. The difference will be especially notable if the job only reads a subset of the files that are available to it.</p> <p><strong>Note:</strong> <code>lazy</code> currently does not support datums that contain more than 10000 files.</p> <p><code>input.pfs.empty_files</code> controls how files are exposed to jobs. If set to <code>true</code>, it causes files from this PFS to be presented as empty files. This is useful in shuffle pipelines where you want to read the names of files and reorganize them by using symlinks.</p> <h4 id=union-input>Union Input<a class=headerlink href=#union-input title="Permanent link">&para;</a></h4> <p>Union inputs take the union of other inputs. In the example below, each input includes individual datums, such as if <code>foo</code> and <code>bar</code> were in the same repository with the glob pattern set to <code>/*</code>. Alternatively, each of these datums might have come from separate repositories with the glob pattern set to <code>/</code> and being the only filesystm objects in these repositories.</p> <div class=codehilite><pre><span></span>| inputA | inputB | inputA ∪ inputB |
| ------ | ------ | --------------- |
| foo    | fizz   | foo             |
| bar    | buzz   | fizz            |
|        |        | bar             |
|        |        | buzz            |
</pre></div> <p>The union inputs do not take a name and maintain the names of the sub-inputs. In the example above, you would see files under <code>/pfs/inputA/...</code> or <code>/pfs/inputB/...</code>, but never both at the same time. When you write code to address this behavior, make sure that your code first determines which input directory is present. Starting with Pachyderm 1.5.3, we recommend that you give your inputs the same <code>Name</code>. That way your code only needs to handle data being present in that directory. This only works if your code does not need to be aware of which of the underlying inputs the data comes from.</p> <p><code>input.union</code> is an array of inputs to combine. The inputs do not have to be <code>pfs</code> inputs. They can also be <code>union</code> and <code>cross</code> inputs. Although, there is no reason to take a union of unions because union is associative.</p> <h4 id=cross-input>Cross Input<a class=headerlink href=#cross-input title="Permanent link">&para;</a></h4> <p>Cross inputs create the cross product of other inputs. In other words, a cross input creates tuples of the datums in the inputs. In the example below, each input includes individual datums, such as if <code>foo</code> and <code>bar</code> were in the same repository with the glob pattern set to <code>/*</code>. Alternatively, each of these datums might have come from separate repositories with the glob pattern set to <code>/</code> and being the only filesystm objects in these repositories.</p> <div class=codehilite><pre><span></span>| inputA | inputB | inputA ⨯ inputB |
| ------ | ------ | --------------- |
| foo    | fizz   | (foo, fizz)     |
| bar    | buzz   | (foo, buzz)     |
|        |        | (bar, fizz)     |
|        |        | (bar, buzz)     |
</pre></div> <p>The cross inputs above do not take a name and maintain the names of the sub-inputs. In the example above, you would see files under <code>/pfs/inputA/...</code> and <code>/pfs/inputB/...</code>.</p> <p><code>input.cross</code> is an array of inputs to cross. The inputs do not have to be <code>pfs</code> inputs. They can also be <code>union</code> and <code>cross</code> inputs. Although, there is no reason to take a union of unions because union is associative.</p> <h4 id=cron-input>Cron Input<a class=headerlink href=#cron-input title="Permanent link">&para;</a></h4> <p>Cron inputs allow you to trigger pipelines based on time. A Cron input is based on the Unix utility called <code>cron</code>. When you create a pipeline with one or more Cron inputs, <code>pachd</code> creates a repo for each of them. The start time for Cron input is specified in its spec. When a Cron input triggers, <code>pachd</code> commits a single file, named by the current <a href=https://www.ietf.org/rfc/rfc3339.txt>RFC 3339 timestamp</a> to the repo which contains the time which satisfied the spec.</p> <div class=codehilite><pre><span></span>{
    &quot;name&quot;: string,
    &quot;spec&quot;: string,
    &quot;repo&quot;: string,
    &quot;start&quot;: time,
    &quot;overwrite&quot;: bool
}
</pre></div> <p><code>input.cron.name</code> is the name for the input. Its semantics is similar to those of <code>input.pfs.name</code>. Except that it is not optional.</p> <p><code>input.cron.spec</code> is a cron expression which specifies the schedule on which to trigger the pipeline. To learn more about how to write schedules, see the <a href=https://en.wikipedia.org/wiki/Cron>Wikipedia page on cron</a>. Pachyderm supports non-standard schedules, such as <code>"@daily"</code>.</p> <p><code>input.cron.repo</code> is the repo which Pachyderm creates for the input. This parameter is optional. If you do not specify this parameter, then <code>"&lt;pipeline-name&gt;_&lt;input-name&gt;"</code> is used by default.</p> <p><code>input.cron.start</code> is the time to start counting from for the input. This parameter is optional. If you do not specify this parameter, then the time when the pipeline was created is used by default. Specifying a time enables you to run on matching times from the past or skip times from the present and only start running on matching times in the future. Format the time value according to <a href=https://www.ietf.org/rfc/rfc3339.txt>RFC 3339</a>.</p> <p><code>input.cron.overwrite</code> is a flag to specify whether you want the timestamp file to be overwritten on each tick. This parameter is optional, and if you do not specify it, it defaults to simply writing new files on each tick. By default, <code>pachd</code> expects only the new information to be written out on each tick and combines that data with the data from the previous ticks. If <code>"overwrite"</code> is set to <code>true</code>, it expects the full dataset to be written out for each tick and replaces previous outputs with the new data written out.</p> <h4 id=git-input-alpha-feature>Git Input (alpha feature)<a class=headerlink href=#git-input-alpha-feature title="Permanent link">&para;</a></h4> <p>Git inputs allow you to pull code from a public git URL and execute that code as part of your pipeline. A pipeline with a Git Input will get triggered (i.e. will see a new input commit and will spawn a job) whenever you commit to your git repository.</p> <p><strong>Note:</strong> This only works on cloud deployments, not local clusters.</p> <p><code>input.git.URL</code> must be a URL of the form: <code>https://github.com/foo/bar.git</code></p> <p><code>input.git.name</code> is the name for the input, its semantics are similar to those of <code>input.pfs.name</code>. It is optional.</p> <p><code>input.git.branch</code> is the name of the git branch to use as input</p> <p>Git inputs also require some additional configuration. In order for new commits on your git repository to correspond to new commits on the Pachyderm Git Input repo, we need to setup a git webhook. At the moment, only GitHub is supported. (Though if you ask nicely, we can add support for GitLab or BitBucket).</p> <ol> <li> <p>Create your Pachyderm pipeline with the Git Input.</p> </li> <li> <p>To get the URL of the webhook to your cluster, do <code>pachctl inspect pipeline</code> on your pipeline. You should see a <code>Githook URL</code> field with a URL set. Note - this will only work if you've deployed to a cloud provider (e.g. AWS, GKE). If you see <code>pending</code> as the value (and you've deployed on a cloud provider), it's possible that the service is still being provisioned. You can check <code>kubectl get svc</code> to make sure you see the <code>githook</code> service running.</p> </li> <li> <p>To setup the GitHub webhook, navigate to:</p> </li> </ol> <p><div class=codehilite><pre><span></span>https://github.com/&lt;your_org&gt;/&lt;your_repo&gt;/settings/hooks/new
</pre></div> Or navigate to webhooks under settings. Then you'll want to copy the <code>Githook URL</code> into the 'Payload URL' field.</p> <h3 id=output-branch-optional>Output Branch (optional)<a class=headerlink href=#output-branch-optional title="Permanent link">&para;</a></h3> <p>This is the branch where the pipeline outputs new commits. By default, it's "master".</p> <h3 id=egress-optional>Egress (optional)<a class=headerlink href=#egress-optional title="Permanent link">&para;</a></h3> <p><code>egress</code> allows you to push the results of a Pipeline to an external data store such as s3, Google Cloud Storage or Azure Storage. Data will be pushed after the user code has finished running but before the job is marked as successful.</p> <p>For more information, see <a href=../how-tos/export-data-out-pachyderm#exporting-data-by-using-egress>Exporting Data by using egress</a></p> <h3 id=standby-optional>Standby (optional)<a class=headerlink href=#standby-optional title="Permanent link">&para;</a></h3> <p><code>standby</code> indicates that the pipeline should be put into "standby" when there's no data for it to process. A pipeline in standby will have no pods running and thus will consume no resources, it's state will be displayed as "standby".</p> <p>Standby replaces <code>scale_down_threshold</code> from releases prior to 1.7.1.</p> <h3 id=cache-size-optional>Cache Size (optional)<a class=headerlink href=#cache-size-optional title="Permanent link">&para;</a></h3> <p><code>cache_size</code> controls how much cache a pipeline's sidecar containers use. In general, your pipeline's performance will increase with the cache size, but only up to a certain point depending on your workload.</p> <p>Every worker in every pipeline has a limited-functionality <code>pachd</code> server running adjacent to it, which proxies PFS reads and writes (this prevents thundering herds when jobs start and end, which is when all of a pipeline's workers are reading from and writing to PFS simultaneously). Part of what these "sidecar" pachd servers do is cache PFS reads. If a pipeline has a cross input, and a worker is downloading the same datum from one branch of the input repeatedly, then the cache can speed up processing significantly.</p> <h3 id=enable-stats-optional>Enable Stats (optional)<a class=headerlink href=#enable-stats-optional title="Permanent link">&para;</a></h3> <p><code>enable_stats</code> turns on stat tracking for the pipeline. This will cause the pipeline to commit to a second branch in its output repo called <code>"stats"</code>. This branch will have information about each datum that is processed including: timing information, size information, logs and a <code>/pfs</code> snapshot. This information can be accessed through the <code>inspect datum</code> and <code>list datum</code> pachctl commands and through the webUI.</p> <p>Note: enabling stats will use extra storage for logs and timing information. However it will not use as much extra storage as it appears to due to the fact that snapshots of the <code>/pfs</code> directory, which are generally the largest thing stored, don't actually require extra storage because the data is already stored in the input repos.</p> <h3 id=service-alpha-feature-optional>Service (alpha feature, optional)<a class=headerlink href=#service-alpha-feature-optional title="Permanent link">&para;</a></h3> <p><code>service</code> specifies that the pipeline should be treated as a long running service rather than a data transformation. This means that <code>transform.cmd</code> is not expected to exit, if it does it will be restarted. Furthermore, the service is exposed outside the container using a Kubernetes service. <code>"internal_port"</code> should be a port that the user code binds to inside the container, <code>"external_port"</code> is the port on which it is exposed through the <code>NodePorts</code> functionality of Kubernetes services. After a service has been created, you should be able to access it at <code>http://&lt;kubernetes-host&gt;:&lt;external_port&gt;</code>.</p> <h3 id=spout-optional>Spout (optional)<a class=headerlink href=#spout-optional title="Permanent link">&para;</a></h3> <p><code>spout</code> is a type of pipeline that processes streaming data. Unlike a union or cross pipeline, a spout pipeline does not have a PFS input. Instead, it opens a Linux <em>named pipe</em> into the source of the streaming data. Your pipeline can be either a spout or a service and not both. Therefore, if you added the <code>service</code> as a top-level object in your pipeline, you cannot add <code>spout</code>. However, you can expose a service from inside of a spout pipeline by specifying it as a field in the <code>spout</code> spec. Then, Kubernetes creates a service endpoint that you can expose externally. You can get the information about the service by running <code>kubectl get services</code>.</p> <p>For more information, see <a href=../../concepts/pipeline-concepts/pipeline/spout/ >Spouts</a>.</p> <h3 id=max-queue-size-optional>Max Queue Size (optional)<a class=headerlink href=#max-queue-size-optional title="Permanent link">&para;</a></h3> <p><code>max_queue_size</code> specifies that maximum number of datums that a worker should hold in its processing queue at a given time (after processing its entire queue, a worker "checkpoints" its progress by writing to persistent storage). The default value is <code>1</code> which means workers will only hold onto the value that they're currently processing.</p> <p>Increasing this value can improve pipeline performance, as that allows workers to simultaneously download, process and upload different datums at the same time (and reduces the total time spent on checkpointing). Decreasing this value can make jobs more robust to failed workers, as work gets checkpointed more often, and a failing worker will not lose as much progress. Setting this value too high can also cause problems if you have <code>lazy</code> inputs, as there's a cap of 10,000 <code>lazy</code> files per worker and multiple datums that are running all count against this limit.</p> <h3 id=chunk-spec-optional>Chunk Spec (optional)<a class=headerlink href=#chunk-spec-optional title="Permanent link">&para;</a></h3> <p><code>chunk_spec</code> specifies how a pipeline should chunk its datums.</p> <p><code>chunk_spec.number</code> if nonzero, specifies that each chunk should contain <code>number</code> datums. Chunks may contain fewer if the total number of datums don't divide evenly.</p> <p><code>chunk_spec.size_bytes</code> , if nonzero, specifies a target size for each chunk of datums. Chunks may be larger or smaller than <code>size_bytes</code>, but will usually be pretty close to <code>size_bytes</code> in size.</p> <h3 id=scheduling-spec-optional>Scheduling Spec (optional)<a class=headerlink href=#scheduling-spec-optional title="Permanent link">&para;</a></h3> <p><code>scheduling_spec</code> specifies how the pods for a pipeline should be scheduled.</p> <p><code>scheduling_spec.node_selector</code> allows you to select which nodes your pipeline will run on. Refer to the <a href=https://kubernetes.io/docs/concepts/configuration/assign-pod-node/#nodeselector>Kubernetes docs</a> on node selectors for more information about how this works.</p> <p><code>scheduling_spec.priority_class_name</code> allows you to select the prioriy class for the pipeline, which will how Kubernetes chooses to schedule and deschedule the pipeline. Refer to the <a href=https://kubernetes.io/docs/concepts/configuration/pod-priority-preemption/#priorityclass>Kubernetes docs</a> on priority and preemption for more information about how this works.</p> <h3 id=pod-spec-optional>Pod Spec (optional)<a class=headerlink href=#pod-spec-optional title="Permanent link">&para;</a></h3> <p><code>pod_spec</code> is an advanced option that allows you to set fields in the pod spec that haven't been explicitly exposed in the rest of the pipeline spec. A good way to figure out what JSON you should pass is to create a pod in Kubernetes with the proper settings, then do:</p> <div class=codehilite><pre><span></span>kubectl get po/&lt;pod-name&gt; -o json | jq .spec
</pre></div> <p>this will give you a correctly formated piece of JSON, you should then remove the extraneous fields that Kubernetes injects or that can be set else where.</p> <p>The JSON is applied after the other parameters for the <code>pod_spec</code> have already been set as a <a href=https://tools.ietf.org/html/rfc7386>JSON Merge Patch</a>. This means that you can modify things such as the storage and user containers.</p> <h3 id=pod-patch-optional>Pod Patch (optional)<a class=headerlink href=#pod-patch-optional title="Permanent link">&para;</a></h3> <p><code>pod_patch</code> is similar to <code>pod_spec</code> above but is applied as a <a href=https://tools.ietf.org/html/rfc6902>JSON Patch</a>. Note, this means that the process outlined above of modifying an existing pod spec and then manually blanking unchanged fields won't work, you'll need to create a correctly formatted patch by diffing the two pod specs.</p> <h2 id=the-input-glob-pattern>The Input Glob Pattern<a class=headerlink href=#the-input-glob-pattern title="Permanent link">&para;</a></h2> <p>Each PFS input needs to specify a <a href=../../concepts/pipeline-concepts/distributed_computing/ >glob pattern</a>.</p> <p>Pachyderm uses the glob pattern to determine how many "datums" an input consists of. Datums are the unit of parallelism in Pachyderm. That is, Pachyderm attempts to process datums in parallel whenever possible.</p> <p>Intuitively, you may think of the input repo as a file system, and you are applying the glob pattern to the root of the file system. The files and directories that match the glob pattern are considered datums.</p> <p>For instance, let's say your input repo has the following structure:</p> <div class=codehilite><pre><span></span>/foo-1
/foo-2
/bar
  /bar-1
  /bar-2
</pre></div> <p>Now let's consider what the following glob patterns would match respectively:</p> <ul> <li><code>/</code>: this pattern matches <code>/</code>, the root directory itself, meaning all the data would be a single large datum.</li> <li><code>/*</code>: this pattern matches everything under the root directory given us 3 datums: <code>/foo-1.</code>, <code>/foo-2.</code>, and everything under the directory <code>/bar</code>.</li> <li><code>/bar/*</code>: this pattern matches files only under the <code>/bar</code> directory: <code>/bar-1</code> and <code>/bar-2</code></li> <li><code>/foo*</code>: this pattern matches files under the root directory that start with the characters <code>foo</code></li> <li><code>/*/*</code>: this pattern matches everything that's two levels deep relative to the root: <code>/bar/bar-1</code> and <code>/bar/bar-2</code></li> </ul> <p>The datums are defined as whichever files or directories match by the glob pattern. For instance, if we used <code>/*</code>, then the job will process three datums (potentially in parallel): <code>/foo-1</code>, <code>/foo-2</code>, and <code>/bar</code>. Both the <code>bar-1</code> and <code>bar-2</code> files within the directory <code>bar</code> would be grouped together and always processed by the same worker.</p> <h2 id=pps-mounts-and-file-access>PPS Mounts and File Access<a class=headerlink href=#pps-mounts-and-file-access title="Permanent link">&para;</a></h2> <h3 id=mount-paths>Mount Paths<a class=headerlink href=#mount-paths title="Permanent link">&para;</a></h3> <p>The root mount point is at <code>/pfs</code>, which contains:</p> <ul> <li><code>/pfs/input_name</code> which is where you would find the datum.<ul> <li>Each input will be found here by its name, which defaults to the repo name if not specified.</li> </ul> </li> <li><code>/pfs/out</code> which is where you write any output.</li> </ul> <h1 id=environment-variables>Environment Variables<a class=headerlink href=#environment-variables title="Permanent link">&para;</a></h1> <p>There are several environment variables that get injected into the user code before it runs. They are:</p> <ul> <li><code>PACH_JOB_ID</code> the id the currently run job.</li> <li><code>PACH_OUTPUT_COMMIT_ID</code> the id of the commit being outputted to.</li> <li>For each input there will be an environment variable with the same name defined to the path of the file for that input. For example if you are accessing an input called <code>foo</code> from the path <code>/pfs/foo</code> which contains a file called <code>bar</code> then the environment variable <code>foo</code> will have the value <code>/pfs/foo/bar</code>. The path in the environment variable is the path which matched the glob pattern, even if the file is a directory, ie if your glob pattern is <code>/*</code> it would match a directory <code>/bar</code>, the value of <code>$foo</code> would then be <code>/pfs/foo/bar</code>. With a glob pattern of <code>/*/*</code> you would match the files contained in <code>/bar</code> and thus the value of <code>foo</code> would be <code>/pfs/foo/bar/quux</code>.</li> <li>For each input there will be an environment variable named <code>input_COMMIT</code> indicating the id of the commit being used for that input.</li> </ul> <p>In addition to these environment variables Kubernetes also injects others for Services that are running inside the cluster. These allow you to connect to those outside services, which can be powerful but also can be hard to reason about, as processing might be retried multiple times. For example if your code writes a row to a database that row may be written multiple times due to retries. Interaction with outside services should be <a href=https://en.wikipedia.org/wiki/Idempotence>idempotent</a> to prevent unexpected behavior. Furthermore, one of the running services that your code can connect to is Pachyderm itself, this is generally not recommended as very little of the Pachyderm API is idempotent, but in some specific cases it can be a viable approach.</p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid"> <a href=../../deploy-manage/manage/disable-metrics/ title="Disable Usage Metrics" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i> </div> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Previous </span> Disable Usage Metrics </span> </div> </a> <a href=../config_spec/ title="Pachyderm Config Specification" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel=next> <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"> <span class=md-flex__ellipsis> <span class=md-footer-nav__direction> Next </span> Pachyderm Config Specification </span> </div> <div class="md-flex__cell md-flex__cell--shrink"> <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright Pachyderm Inc, 2019 </div> </div> <div class=md-footer-social> <link rel=stylesheet href=../../assets/fonts/font-awesome.css> <a href=https://github.com/pachyderm/pachyderm class="md-footer-social__link fa fa-github-alt"></a> <a href=https://twitter.com/pachydermio class="md-footer-social__link fa fa-twitter"></a> <a href=https://www.linkedin.com/company/pachyderm-inc- class="md-footer-social__link fa fa-linkedin"></a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/application.cb24b6c0.js></script> <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script> </body> </html>