syntax = "proto3";

package pps;

message Node {
  map<string, string> input = 1;
  map<string, string> output = 2;
  repeated string run = 3;
}

message DockerService {
  string image = 1;
  string build = 2;
  string dockerfile = 3;
}

message Element {
  string path = 1;
  oneof typed_element {
    Node node = 2;
    DockerService docker_service = 3;
  }
}

message Pipeline {
  map<string, Element> name_to_element = 1;
  string version = 2;
}
